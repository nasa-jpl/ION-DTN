<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ltp/ltp/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/ltp/ltp.md";
        var mkdocs_page_url = "/ION-DTN/man/ltp/ltp/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>ltp - Licklider Transmission Protocol (LTP) communications library</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;ltp.h&quot;

typedef enum
{
    LtpNoNotice = 0,
    LtpExportSessionStart,
    LtpXmitComplete,
    LtpExportSessionCanceled,
    LtpExportSessionComplete,
    LtpRecvGreenSegment,
    LtpRecvRedPart,
    LtpImportSessionCanceled
} LtpNoticeType;

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>The ltp library provides functions enabling application software to use LTP
to send and receive information reliably over a long-latency link.  It
conforms to the LTP specification as documented by the Delay-Tolerant
Networking Research Group of the Internet Research Task Force.</p>
<p>The LTP notion of <strong>engine ID</strong> corresponds closely to the Internet notion of
a host, and in ION engine IDs are normally indistinguishable from node numbers
including the node numbers in Bundle Protocol endpoint IDs conforming to
the "ipn" scheme.</p>
<p>The LTP notion of <strong>client ID</strong> corresponds closely to the Internet notion of
"protocol number" as used in the Internet Protocol.  It enables data from
multiple applications -- clients -- to be multiplexed over a single reliable
link.  However, for ION operations we normally use LTP exclusively for the
transmission of Bundle Protocol data, identified by client ID = 1.</p>
<ul>
<li>
<p>int ltp_attach()</p>
<p>Attaches the application to LTP functionality on the lcoal computer.  Returns
0 on success, -1 on any error.</p>
</li>
<li>
<p>void ltp_detach()</p>
<p>Terminates all access to LTP functionality on the local computer.</p>
</li>
<li>
<p>int ltp_engine_is_started()</p>
<p>Returns 1 if the local LTP engine has been started and not yet stopped,
0 otherwise.</p>
</li>
<li>
<p>int ltp_send(uvast destinationEngineId, unsigned int clientId, Object clientServiceData, unsigned int redLength, LtpSessionId *sessionId)</p>
<p>Sends a client service data unit to the application that is waiting for
data tagged with the indicated <em>clientId</em> as received at the remote LTP
engine identified by <em>destinationEngineId</em>.</p>
<p><em>clientServiceData</em> must be a "zero-copy object" reference as returned
by ionCreateZco().  Note that LTP will privately make and destroy its own
reference to the client service data object; the application is free to
destroy its reference at any time.</p>
<p><em>redLength</em> indicates the number of leading bytes of data in
<em>clientServiceData</em> that are to be sent reliably, i.e., with selective
retransmission in response to explicit or implicit negative acknowledgment
as necessary.  All remaining bytes of data in <em>clientServiceData</em> will be
sent as "green" data, i.e., unreliably.  If <em>redLength</em> is zero, the entire
client service data unit will be sent unreliably.  If the entire client
service data unit is to be sent reliably, <em>redLength</em> may be simply be set
to LTP_ALL_RED (i.e., -1).</p>
<p>On success, the function populates <em>*sessionId</em> with the source engine ID
and the "session number" assigned to transmission of this client service
data unit and returns zero.  The session number may be used to link future
LTP processing events, such as transmission cancellation, to the affected
client service data.  ltp_send() returns -1 on any error.</p>
</li>
<li>
<p>int ltp_open(unsigned int clientId)</p>
<p>Establishes the application's exclusive access to received service data
units tagged with the indicated client service data ID.  At any time, only
a single application task is permitted to receive service data units for
any single client service data ID.</p>
<p>Returns 0 on success, -1 on any error (e.g., the indicated client service
is already being held open by some other application task).</p>
</li>
<li>
<p>int ltp_get_notice(unsigned int clientId, LtpNoticeType *type, LtpSessionId *sessionId, unsigned char *reasonCode, unsigned char *endOfBlock, unsigned int *dataOffset, unsigned int *dataLength, Object *data)</p>
<p>Receives notices of LTP processing events pertaining to the flow of service
data units tagged with the indicated client service ID.  The nature of each
event is indicated by <em>*type</em>.  Additional parameters characterizing the
event are returned in <em>*sessionId</em>, <em>*reasonCode</em>, <em>*endOfBlock</em>,
<em>*dataOffset</em>, <em>*dataLength</em>, and <em>*data</em> as relevant.</p>
<p>The value returned in <em>*data</em> is always a zero-copy object; use the
zco_* functions defined in "zco.h" to retrieve the content of that object.</p>
<p>When the notice is an LtpRecvGreenSegment, the ZCO returned in <em>*data</em>
contains the content of a single LTP green segment.  Reassembly of the
green part of some block from these segments is the responsibility of
the application.</p>
<p>When the notice is an LtpRecvRedPart, the ZCO returned in <em>*data</em>
contains the red part of a possibly aggregated block.  The ZCO's content
may therefore comprise multiple service data objects.  Extraction of
individual service data objects from the aggregated block is the
responsibility of the application.  A simple way to do this is to
prepend the length of the service data object to the object itself
(using zco_prepend_header) before calling ltp_send, so that the
receiving application can alternate extraction of object lengths and
objects from the delivered block's red part.</p>
<p>The cancellation of an export session may result in delivery of multiple
LtpExportSessionCanceled notices, one for each service data unit in the
export session's (potentially) aggregated block.  The ZCO returned in
<em>*data</em> for each such notice is a service data unit ZCO that had previously
been passed to ltp_send().</p>
<p>ltp_get_notice() always blocks indefinitely until an LTP processing event
is delivered.</p>
<p>Returns zero on success, -1 on any error.</p>
</li>
<li>
<p>void ltp_interrupt(unsigned int clientId)</p>
<p>Interrupts an ltp_get_notice() invocation.  This function is designed to be
called from a signal handler; for this purpose, <em>clientId</em> may need to be
obtained from a static variable.</p>
</li>
<li>
<p>void ltp_release_data(Object data)</p>
<p>Releases the resources allocated to hold <em>data</em>, which must be a <strong>received</strong>
client service data ZCO.</p>
</li>
<li>
<p>void ltp_close(unsigned int clientId)</p>
<p>Terminates the application's exclusive access to received service data
units tagged with the indicated client service data ID.</p>
</li>
</ul>
<h1 id="see-also">SEE ALSO</h1>
<p>ltpadmin(1), ltprc(5), zco(3)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
