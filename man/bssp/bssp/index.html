<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/bssp/bssp/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/bssp/bssp.md";
        var mkdocs_page_url = "/ION-DTN/man/bssp/bssp/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>bssp - Bundle Streaming Service Protocol (BSSP) communications library</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;bssp.h&quot;

typedef enum
{
    BsspNoNotice = 0,
    BsspXmitSuccess,
    BsspXmitFailure,
    BsspRecvSuccess
} BsspNoticeType;

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>The bssp library provides functions enabling application software to use BSSP
to send and receive streaming data in bundles.</p>
<p>BSSP is designed to forward streaming data in original transmission order
wherever possible but to retransmit data as necessary to ensure that the
entire stream is available for playback eventually.  To this end, BSSP uses
not one but two underlying "link service" channels: (a) an unreliable "best
efforts" channel, for data items that are successfully received upon initial
transmission over every extent of the end-to-end path, and (b) a "reliable"
channel, for data items that were lost at some point, had to be retransmitted,
and therefore are now out of order.  The BSS library at the destination node
supports immediate "real-time" display of all data received on the "best
efforts" channel in transmission order, together with database retention of
all data eventually received on the "reliable" channel.</p>
<p>The BSSP notion of <strong>engine ID</strong> corresponds closely to the Internet notion of
a host, and in ION engine IDs are normally indistinguishable from node numbers
including the node numbers in Bundle Protocol endpoint IDs conforming to
the "ipn" scheme.</p>
<p>The BSSP notion of <strong>client ID</strong> corresponds closely to the Internet notion of
"protocol number" as used in the Internet Protocol.  It enables data from
multiple applications -- clients -- to be multiplexed over a single reliable
link.  However, for ION operations we normally use BSSP exclusively for the
transmission of Bundle Protocol data, identified by client ID = 1.</p>
<ul>
<li>
<p>int bssp_attach()</p>
<p>Attaches the application to BSSP functionality on the lcoal computer.  Returns
0 on success, -1 on any error.</p>
</li>
<li>
<p>void bssp_detach()</p>
<p>Terminates all access to BSSP functionality on the local computer.</p>
</li>
<li>
<p>int bssp_engine_is_started()</p>
<p>Returns 1 if the local BSSP engine has been started and not yet stopped,
0 otherwise.</p>
</li>
<li>
<p>int bssp_send(uvast destinationEngineId, unsigned int clientId, Object clientServiceData, int inOrder, BsspSessionId *sessionId)</p>
<p>Sends a client service data unit to the application that is waiting for
data tagged with the indicated <em>clientId</em> as received at the remote BSSP
engine identified by <em>destinationEngineId</em>.</p>
<p><em>clientServiceData</em> must be a "zero-copy object" reference as returned
by ionCreateZco().  Note that BSSP will privately make and destroy its own
reference to the client service data object; the application is free to
destroy its reference at any time.</p>
<p><em>inOrder</em> is a Boolean value indicating whether or not the service data item
that is being sent is "in order", i.e., was originally transmitted after all
items that have previously been sent to this destination by this local BSSP
engine: 0 if no (meaning that the item must be transmitted using the
"reliable" channel), 1 if yes (meaning that the item must be transmitted
using the "best-efforts" channel.</p>
<p>On success, the function populates <em>*sessionId</em> with the source engine ID
and the "session number" assigned to transmission of this client service
data unit and returns zero.  The session number may be used to link future
BSSP processing events to the affected client service data.  bssp_send()
returns -1 on any error.</p>
</li>
<li>
<p>int bssp_open(unsigned int clientId)</p>
<p>Establishes the application's exclusive access to received service data
units tagged with the indicated BSSP client service data ID.  At any time,
only a single application task is permitted to receive service data units
for any single client service data ID.</p>
<p>Returns 0 on success, -1 on any error (e.g., the indicated client service
is already being held open by some other application task).</p>
</li>
<li>
<p>int bssp_get_notice(unsigned int clientId, BsspNoticeType *type, BsspSessionId *sessionId, unsigned char *reasonCode, unsigned int *dataLength, Object *data)</p>
<p>Receives notices of BSSP processing events pertaining to the flow of service
data units tagged with the indicated client service ID.  The nature of each
event is indicated by <em>*type</em>.  Additional parameters characterizing the
event are returned in <em>*sessionId</em>, <em>*reasonCode</em>, <em>*dataLength</em>, and
<em>*data</em> as relevant.</p>
<p>The value returned in <em>*data</em> is always a zero-copy object; use the
zco_* functions defined in "zco.h" to retrieve the content of that object.</p>
<p>When the notice is an BsspRecvSuccess, the ZCO returned in <em>*data</em>
contains the content of a single BSSP block.</p>
<p>The cancellation of an export session results in delivery of a 
BsspXmitFailure notice.  In this case, the ZCO returned in *data is a
service data unit ZCO that had previously been passed to bssp_send().</p>
<p>bssp_get_notice() always blocks indefinitely until an BSSP processing event
is delivered.</p>
<p>Returns zero on success, -1 on any error.</p>
</li>
<li>
<p>void bssp_interrupt(unsigned int clientId)</p>
<p>Interrupts an bssp_get_notice() invocation.  This function is designed to be
called from a signal handler; for this purpose, <em>clientId</em> may need to be
obtained from a static variable.</p>
</li>
<li>
<p>void bssp_release_data(Object data)</p>
<p>Releases the resources allocated to hold <em>data</em>, which must be a <strong>received</strong>
client service data unit ZCO.</p>
</li>
<li>
<p>void bssp_close(unsigned int clientId)</p>
<p>Terminates the application's exclusive access to received service data
units tagged with the indicated client service data ID.</p>
</li>
</ul>
<h1 id="see-also">SEE ALSO</h1>
<p>bsspadmin(1), bssprc(5), zco(3)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
