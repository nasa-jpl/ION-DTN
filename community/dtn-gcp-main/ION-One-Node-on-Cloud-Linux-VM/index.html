<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Running 1 ION Node on Cloud VM - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Running 1 ION Node on Cloud VM";
        var mkdocs_page_input_path = "community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM.md";
        var mkdocs_page_url = "/ION-DTN/community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../man/tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Running 1 ION Node on Cloud VM</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#getting-started-with-cloud-linux-vms">Getting Started with Cloud Linux VMs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ssh-in-the-cloud-linux-vm-instance">SSH in the Cloud Linux VM Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#getting-started-with-ion">Getting Started with  ION</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#compiling-ion-using-autotools">Compiling ION using autotools</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#programs-in-ion">Programs in ION</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-configuration-files">The Configuration Files</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#testing-and-stopping-your-connection">Testing and Stopping your Connection</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Cloud Deployment</li>
      <li class="breadcrumb-item active">Running 1 ION Node on Cloud VM</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dtn-101-running-the-interplanetary-internet-on-cloud-vm">DTN 101 - Running the Interplanetary Internet on Cloud VM</h1>
<p>This project has been developed by Dr Lara Suzuki, a visiting researcher at NASA JPL.</p>
<h2 id="introduction">Introduction</h2>
<p>In this project we demonstrate how to run DTN on a cloud VM using NASA's implementation of the bundle protocol - ION. DTN stands for delay-tolerant and disruption-tolerant networks.</p>
<blockquote>
<p><em>"It is an evolution of the architecture originally designed for the Interplanetary Internet, a communication system envisioned to provide Internet-like services across interplanetary distances in support of deep space exploration"</em> <a href="https://tools.ietf.org/html/rfc4838">Cerf et al, 2007</a>. </p>
</blockquote>
<p>The ION (interplanetary overlay network) software is a suite of communication protocol implementations designed to support mission operation communications across an end-to-end interplanetary network, which might include on-board (flight) subnets, in-situ planetary or lunar networks, proximity links, deep space links, and terrestrial internets.</p>
<h2 id="getting-started-with-cloud-linux-vms">Getting Started with Cloud Linux VMs</h2>
<p>On your preferred Cloud provider dashboard, create a Linux VM (e.g. Debian).</p>
<p>When prompted, select the reagion closest to you. If you are prompted to select the machine type, select the configuration that will suit your needs. I have selected the a machine which has 2 virtual CPUs and 4 GB memory.</p>
<p>For boot disk, in this tutorial we are using Debian GNU/Linux 10 (buster). In firewall configurations, I have selected it Allow HTTP and HTTPS.</p>
<p>Once the VM is started you can <code>SSH</code> directly into the VM.</p>
<h2 id="ssh-in-the-cloud-linux-vm-instance">SSH in the Cloud Linux VM Instance</h2>
<p>Mac and Linux support SSH connection natively. You just need to generate an SSH key pair (public key/private key) to connect securely to the virtual machine.</p>
<p>To generate the SSH key pair to connect securely to the virtual machine, follow these steps:</p>
<ol>
<li>Enter the following command in Terminal: <code>ssh-keygen -t rsa .</code> </li>
<li>It will start the key generation process. </li>
<li>You will be prompted to choose the location to store the SSH key pair. </li>
<li>Press <code>ENTER</code> to accept the default location</li>
<li>Now run the following command: <code>cat ~/.ssh/id_rsa.pub .</code> </li>
<li>It will display the public key in the terminal. </li>
<li>Highlight and copy this key</li>
</ol>
<p>Back in the Cloud VM tools, follow your provider's direction on how to SSH into the VM. If you are requested to provide your SSH Keys, locate the SSH key file in your computer and inform it here.</p>
<p>Now you can just open your terminal on your Mac or Linux machine and type <code>ssh IP.IP.IP.IP</code> and you will be on the VM (IP.IP.IP.IP is the external IP of the VM).</p>
<h2 id="getting-started-with-ion">Getting Started with  ION</h2>
<p>The latest version of ION (4.0.1) can be downloaded <a href="https://sourceforge.net/projects/ion-dtn/files">here</a>. ION 4.0.1 uses the <a href="https://tools.ietf.org/html/draft-ietf-dtn-bpbis-31">version 7 of the Bundle Protocol</a>.</p>
<p>On your VM execute the following commands</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$ sudo apt update
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>$ sudo apt install build-essential -y
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>$ sudo apt-get install wget -y
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>$ wget https://sourceforge.net/projects/ion-dtn/files/ion-open-source-4.0.1.tar.gz/download
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>$ tar xzvf download
</code></pre></div>
<h3 id="compiling-ion-using-autotools">Compiling ION using autotools</h3>
<p>Follow the standard autoconf method for compiling the project. In the <strong>base ION directory</strong> run:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$ ./configure
</code></pre></div>
Then compile with:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$ make
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>````
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Finally, install (requires root privileges):
</code></pre></div>
$ sudo make install
```</p>
<p>For Linux based systems, you may need to run <code>sudo ldconfig</code> with no arguments after install.</p>
<h3 id="programs-in-ion">Programs in ION</h3>
<p>The following tools are a few examples of programs availale to you after ION is built:</p>
<p><strong>1. Daemon and Configuration:</strong>
- <code>ionadmin</code> is the administration and configuration interface for the local ION node contacts and manages shared memory resources used by ION.
- <code>ltpadmin</code> is the administration and configuration interface for LTP operations on the local ION node.
- <code>bsspadmin</code> is the administrative interface for operations of the Bundle Streaming Service Protocol on the local ion node.
- <code>bpadmin</code> is the administrative interface for bundle protocol operations on the local ion node.
- <code>ipnadmin</code> is the administration and configuration interface for the IPN addressing system and routing on the ION node. (ipn:)
- <code>ionstart</code> is a script which completely configures an ION node with the proper configuration file(s).
- <code>ionstop</code> is a script which cleanly shut down all of the daemon processes.
- <code>killm</code> is a script which releases all of the shared-memory resources that had been allocated to the state of the node.  This actually destroys the node and enables a subsequent clean new start (the “ionstart” script) to succeed.
- <code>ionscript</code> is a script which aides in the creation and management of configuration files to be used with ionstart.</p>
<p><strong>2. Simple Sending and Receiving:</strong>
- <code>bpsource</code> and <code>bpsink</code> are for testing basic connectivity between endpoints. bpsink listens for and then displays messages sent by bpsource.
- <code>bpsendfile</code> and <code>bprecvfile</code> are used to send files between ION nodes.</p>
<p><strong>3. Testing and Benchmarking:</strong>
- <code>bpdriver</code> benchmarks a connection by sending bundles in two modes: request-response and streaming.
- <code>bpecho</code> issues responses to bpdriver in request-response mode.
- <code>bpcounter</code> acts as receiver for streaming mode, outputting markers on receipt of data from bpdriver and computing throughput metrics.</p>
<p><strong>4. Logging:</strong>
- By default, the administrative programs will all trigger the creation of a log file called <code>ion.log</code> in the directory where the program is called. This means that write-access in your current working directory is required. The log file itself will contain the expected log information from administrative daemons, but it will also contain error reports from simple applications such as bpsink. </p>
<h3 id="the-configuration-files">The Configuration Files</h3>
<p>Below we present the configuration files that you should be aware and configure for ION to execute correctly. </p>
<ol>
<li>
<p><code>ionadmin's</code> configuration file, assigns an identity (node number) to the node, optionally configures the resources that will be made available to the node, and specifies contact bandwidths and one-way transmission times. Specifying the "contact plan" is important in deep-space scenarios where the bandwidth must be managed and where acknowledgments must be timed according to propagation delays. It is also vital to the function of contact-graph routing - <a href="../ion-config/">How To</a></p>
</li>
<li>
<p><code>ltpadmin's</code> configuration file, specifies spans, transmission speeds, and resources for the Licklider Transfer Protocol convergence layer - <a href="../ltp-config/">How To</a></p>
</li>
<li>
<p><code>bpadmin's</code> configuration file, specifies all of the open endpoints for delivery on your local end and specifies which convergence layer protocol(s) you intend to use. With the exception of LTP, most convergence layer adapters are fully configured in this file - <a href="../bp-config/">How To</a></p>
</li>
<li>
<p><code>ipnadmin's</code> configuration file, maps endpoints at "neighboring" (topologically adjacent, directly reachable) nodes to convergence-layer addresses. This file populates the ION analogue to an ARP cache for the "ipn" naming scheme - <a href="../ipn-config/">How To</a></p>
</li>
<li>
<p><code>ionsecadmin's</code> configuration file, enables bundle security to avoid error messages in ion.log - <a href="../ionsec-config/">How To</a></p>
</li>
</ol>
<h3 id="testing-and-stopping-your-connection">Testing and Stopping your Connection</h3>
<p>Assuming no errors occur with the configuration files above, we are now ready to test loopback communications, and also learn how to properly stop ION nodes. The below items are covered in this <a href="../Running-ION/">How To</a> page.</p>
<ol>
<li>Testing your connection</li>
<li>Stopping the Daemon</li>
<li>Creating a single configuration file</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../../man/tc/" class="btn btn-neutral float-left" title="Delay Tolerant Key Administration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/" class="btn btn-neutral float-right" title="Running 2 ION Node on Cloud VM">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../../man/tc/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
