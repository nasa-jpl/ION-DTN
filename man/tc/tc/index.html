<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/tc/tc/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/tc/tc.md";
        var mkdocs_page_url = "/ION-DTN/man/tc/tc/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>tc - the Trusted Collective system for Delay-Tolerant Networking</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;tcc.h&quot;

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>The TC system provides a trustworthy framework for delay-tolerant
distribution of information that is of critical importance - that is,
information that must be made available as needed and must not be
corrupt - but is not confidential.  As such it accomplishes some of
the same objectives as are accomplished by "servers" in the Internet.</p>
<p>A central principle of TC is that items of critical information may
have <strong>effective times</strong> which condition their applicability.  For example,
a change in rules restricting air travel will typically be scheduled to
take effect on some stated date in the near future.  Effective times
enable critical information to be distributed far in advance of the
time at which it will be needed, which is what makes TC delay-tolerant:
when the time arrives at which a node needs a given item of critical
information, the information is already in place.  No query/response
exchange is necessary.</p>
<p>The TC framework for a given TC <strong>application</strong> comprises (a) a collective
authority, which should include several geographically distributed
"authority" nodes, and (b) "client" nodes which utilize the services
of the collective authority, possibly including the key authority nodes
themselves.  The framework is designed to convey to every participating
client node the critical information submitted to the collective
authority by all other participating client nodes, in a trustworthy
manner, prior to the times at which those items of information become
effective.  It operates as follows.</p>
<p>The user function of a given TC application generates <strong>records</strong> containing
critical information and issues those records as the application data units
forming the payloads of BP bundles.  The destination of each such bundle
is the multicast group designated for receivers of the records of that
application.  The members of that multicast group are the authority nodes
of the application's collective authority.</p>
<p>The records are delivered to the <strong>tcarecv</strong> daemons of the authority
nodes.  Each such daemon validates the received records and inserts all
valid records in its authority node's private database of pending records.</p>
<p>Periodically, the <strong>tcacompile</strong> daemons of all authority nodes in the
application's collective authority simultaneously compile <strong>bulletins</strong> of
all records recently received from user nodes.  (A TC bulletin is simply
an array of contiguous TC records.)  These daemons then all issue their
bulletins as the application data units forming the payloads of BP
bundles.  The destination of each such bundle is the multicast group
designated for receivers of the bulletins of that application.  The members
of that multicast group are, again, the authority nodes of the application's
collective authority.  In addition, each <strong>tcacompile</strong> daemon spawns one
<strong>tcapublish</strong> process that is assigned the task of processing the bulletins
compiled by all authority nodes during this iteration of the compilation cycle.</p>
<p>The bulletins are delivered to the <strong>tcapublish</strong> processes of all authority
nodes in the application's collective authority.  The <strong>tcapublish</strong> processes
then compute a common consensus bulletin, which includes all recently asserted
records that all of the authority nodes have received and found valid.</p>
<p>Each <strong>tcapublish</strong> process then computes a hash for the consensus bulletin and
erasure-codes the bulletin, producing a list of <strong>code blocks</strong>; the hashes and
lists of blocks will be identical for all key authority nodes.  It then
issues a small subset of those code blocks as the application data units
forming the payloads of BP bundles.  The destination of each such bundle
is the multicast group designated for receivers of the code blocks of the
application.  The members of that multicast group are the <strong>tcc</strong> (that is,
TC <strong>client</strong>) daemons serving the application's user nodes.  The subsets
of the block list issued by all <strong>tcapublish</strong> daemons are different, but
each code block is tagged with the common bulletin hash.</p>
<p>The code blocks are delivered to the <strong>tcc</strong> daemons of all of the
application's user nodes, each of which uses the received code blocks
to reassemble the consensus bulletin.  Code blocks with differing
bulletin hashes are not used to reassemble the same bulletin, and
the erasure coding of the bulletin prevents failure to receive all
code blocks from preventing reassembly of the complete bulletin.  When
a consensus bulletin has been successfully reassembled, the records
in the bulletin are delivered to the user function.</p>
<p>The <strong>tcaboot</strong> and <strong>tcaadmin</strong> utilities are used to configure the
collective authority of a given TC application; the <strong>tccadmin</strong> utility is
used to configure TC client functionality for a given TC application on
a given user node.</p>
<p>The TC library functions provided to TC application user software are
described below.</p>
<ul>
<li>
<p>int tc_serialize(char *buffer, unsigned int buflen, uvast nodeNbr, time_t effectiveTime, time_t assertionTime, unsigned short datLength, unsigned char *datValue)</p>
<p>Forms in <em>buffer</em> a serialized TC record, ready for transmission as a BP
application data unit, that contains the indicated node number, effective time,
assertion time, application data length, and application data.  Returns the
length of the record, or -1 on any missing arguments.</p>
</li>
<li>
<p>int tcc_getBulletin(int blocksGroupNbr, char **bulletinContent, int *length)</p>
<p>Places in <em>*bulletinContent</em> a pointer to an ION private working memory
buffer containing the content of the oldest previously unhandled received
TC bulletin for the application identified by <em>blocksGroupNbr</em>.  Returns
0 on success, -1 on any system failure.  A returned buffer length of 0
indicates that the function was interrupted and must be repeated.</p>
<p>Note that the calling function MUST <strong>MRELEASE</strong> the bulletin content buffer
when processing is complete.  Failure to do so will introduce a memory leak.</p>
</li>
<li>
<p>int tc_deserialize(char **buffer, int *buflen, unsigned short maxDatLength, uvast *nodeNbr, time_t *effectiveTime, time_t *assertionTime, unsigned short *datLength, unsigned char *datValue)</p>
<p>Parses out of the bulletin in <em>buffer</em> the data elements of a single
serialized TC record: node number, effective time, assertion time,
application data length, and application data.  Returns -1 on any missing
arguments, 0 on any record malformation, record length otherwise.</p>
</li>
</ul>
<h1 id="see-also">SEE ALSO</h1>
<p>tcaboot(1), tcaadmin(1), tcarecv(1), tcacompile(1), tcapublish(1), tccadmin(1), tcc(1)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
