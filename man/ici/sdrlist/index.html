<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ici/sdrlist/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/ici/sdrlist.md";
        var mkdocs_page_url = "/ION-DTN/man/ici/sdrlist/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>sdrlist - Simple Data Recorder list management functions</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;sdr.h&quot;

typedef int (*SdrListCompareFn)(Sdr sdr, Address eltData, void *argData);
typedef void (*SdrListDeleteFn)(Sdr sdr, Object elt, void *argument);

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>The SDR list management functions manage doubly-linked lists in managed
SDR heap space.  The functions manage two kinds of objects: lists and
list elements.  A list knows how many elements it contains and what its
start and end elements are.  An element knows what list it belongs to
and the elements before and after it in the list.  An element also
knows its content, which is normally the SDR Address of some object
in the SDR heap.  A list may be sorted, which speeds the process
of searching for a particular element.</p>
<ul>
<li>
<p>Object sdr_list_create(Sdr sdr)</p>
<p>Creates a new list object in the SDR; the new list object initially 
contains no list elements.  Returns the address of the new list, or 
zero on any error.</p>
</li>
<li>
<p>void sdr_list_destroy(Sdr sdr, Object list, SdrListDeleteFn fn, void *arg)</p>
<p>Destroys a list, freeing all elements of list.  If <em>fn</em> is non-NULL,
that function is called once for each freed element;
when called, <em>fn</em> is passed the Address that is the element's data and
the <em>argument</em> pointer passed to sdr_list_destroy().</p>
<p>Do not use <em>sdr_free</em> to destroy an SDR list, as this would
leave the elements of the list allocated yet unreferenced.</p>
</li>
<li>
<p>int sdr_list_length(Sdr sdr, Object list)</p>
<p>Returns the number of elements in the list, or -1 on any error.</p>
</li>
<li>
<p>void sdr_list_user_data_set(Sdr sdr, Object list, Address userData)</p>
<p>Sets the "user data" word of <em>list</em> to <em>userData</em>.  Note that
<em>userData</em> is nominally an Address but can in fact be any value
that occupies a single word.  It is typically used to point to an SDR
object that somehow characterizes the list as a whole, such as a name.</p>
</li>
<li>
<p>Address  sdr_list_user_data(Sdr sdr, Object list)</p>
<p>Returns the value of the "user data" word of <em>list</em>, or zero on any error.</p>
</li>
<li>
<p>Object sdr_list_insert(Sdr sdr, Object list, Address data, SdrListCompareFn fn, void *dataBuffer)</p>
<p>Creates a new list element whose data value is <em>data</em> and
inserts that element into the list.  If <em>fn</em> is NULL,
the new list element is simply appended to the
list; otherwise, the new list element is inserted
after the last element in the list whose data value is
"less than or equal to" the data value of the new element (in dataBuffer)
according to the collating sequence established by <em>fn</em>.  Returns the address
of the newly created element, or zero on any error.</p>
</li>
<li>
<p>Object sdr_list_insert_first(Sdr sdr, Object list, Address data)</p>
</li>
<li>
<p>Object sdr_list_insert_last(Sdr sdr, Object list, Address data)</p>
<p>Creates a new element and inserts it at the front/end
of the list.  This function should not be used to insert a new 
element into any ordered list; use sdr_list_insert() instead.<br />
Returns the address of the newly created list element on success,
or zero on any error.</p>
</li>
<li>
<p>Object sdr_list_insert_before(Sdr sdr, Object elt, Address data)</p>
</li>
<li>
<p>Object sdr_list_insert_after(Sdr sdr, Object elt, Address data)</p>
<p>Creates a new element and inserts it before/after the
specified list element.  This function should not be
used to insert a new element into any ordered list; use
sdr_list_insert() instead.  Returns the address of the newly 
created list element, or zero on any error.</p>
</li>
<li>
<p>void sdr_list_delete(Sdr sdr, Object elt, SdrListDeleteFn fn, void *arg)</p>
<p>Delete <em>elt</em> from the list it is in.
If <em>fn</em> is non-NULL, that function will be called upon deletion of
<em>elt</em>; when called, that function is passed the Address that is the list
element's data value and the <em>arg</em> pointer passed to sdr_list_delete().</p>
</li>
<li>
<p>Object sdr_list_first(Sdr sdr, Object list)</p>
</li>
<li>
<p>Object sdr_list_last(Sdr sdr, Object list)</p>
<p>Returns the address of the first/last element of <em>list</em>, or zero on
any error.</p>
</li>
<li>
<p>Object sdr_list_next(Sdr sdr, Object elt)</p>
</li>
<li>
<p>Object sdr_list_prev(Sdr sdr, Object elt)</p>
<p>Returns the address of the element following/preceding <em>elt</em>
in that element's list, or zero on any error.</p>
</li>
<li>
<p>Object sdr_list_search(Sdr sdr, Object elt, int reverse, SdrListCompareFn fn, void *dataBuffer);</p>
<p>Search a list for an element whose data matches the data in <em>dataBuffer</em>,
starting at the indicated initial list element.  If the <em>compare</em>
function is non-NULL, the list is assumed to be sorted
in the order implied by that function and the function is automatically
called once for each element of the list until it returns a value that is
greater than or equal to zero (where zero indicates an exact match and a
value greater than zero indicates that the list contains no matching
element); each time <em>compare</em> is called it is passed the Address that is
the element's data value and the <em>dataBuffer</em> value passed to sm_list_search().
If <em>reverse</em> is non-zero, then the list is searched in reverse order
(starting at the indicated initial list element) and the search ends
when <em>compare</em> returns a value that is less than or equal to zero.  If
<em>compare</em> is NULL, then the entire list is searched (in either
forward or reverse order, as directed) until an element is
located whose data value is equal to ((Address) <em>dataBuffer</em>).  Returns
the address of the matching element if one is found, 0 otherwise.</p>
</li>
<li>
<p>Object sdr_list_list(Sdr sdr, Object elt)</p>
<p>Returns the address of the list to which <em>elt</em> belongs,
or 0 on any error.</p>
</li>
<li>
<p>Address sdr_list_data(Sdr sdr, Object elt)</p>
<p>Returns the Address that is the data value of <em>elt</em>, or 0 on any error.</p>
</li>
<li>
<p>Address sdr_list_data_set(Sdr sdr, Object elt, Address data)</p>
<p>Sets the data value for <em>elt</em> to <em>data</em>, replacing the
original value.  Returns the original data value for <em>elt</em>, or 0 on
any error.  The original data value for <em>elt</em> may or may not have
been the address of an object in heap data space; even if it was, that
object was NOT deleted.</p>
<p>Warning: changing the data value of an element of an ordered list may ruin
the ordering of the list.</p>
</li>
</ul>
<h1 id="usage">USAGE</h1>
<p>When inserting elements or searching a list, the user may
optionally provide a compare function of the form:</p>
<div class="highlight"><pre><span></span><code>int user_comp_name(Sdr sdr, Address eltData, void *dataBuffer);
</code></pre></div>
<p>When provided, this function is automatically called by the sdrlist function
being invoked; when the function is called it is passed the content of a
list element (<em>eltData</em>, nominally the Address of an item in the SDR's
heap space) and an argument, <em>dataBuffer</em>, which is nominally the address
in local memory of some other item in the same format.
The user-supplied function normally compares some key values of the two
data items and returns 0 if they are equal, an integer less
than 0 if <em>eltData</em>'s key value is less than that of <em>dataBuffer</em>, and an
integer greater than 0 if <em>eltData</em>'s key value is greater than that of
<em>dataBuffer</em>.  These return values will produce a list in ascending order.<br />
If the user desires the list to be in descending
order, the function must reverse the signs of these return values.</p>
<p>When deleting an element or destroying a list, the user may
optionally provide a delete function of the form:</p>
<div class="highlight"><pre><span></span><code>void user_delete_name(Sdr sdr, Address eltData, void *argData)
</code></pre></div>
<p>When provided, this function is automatically called by the sdrlist function
being invoked; when the function is called it is passed the content of a
list element (<em>eltData</em>, nominally the Address of an item in the SDR's heap
space) and an argument, <em>argData</em>, which if non-NULL is normally the address
in local memory of a data item providing context for the list element deletion.
The user-supplied function performs any application-specific cleanup
associated with deleting the element, such as freeing the element's content
data item and/or other SDR heap space associated with the element.</p>
<h1 id="see-also">SEE ALSO</h1>
<p>lyst(3), sdr(3), sdrstring(3), sdrtable(3), smlist(3)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
