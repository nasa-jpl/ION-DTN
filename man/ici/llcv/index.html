<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ici/llcv/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/ici/llcv.md";
        var mkdocs_page_url = "/ION-DTN/man/ici/llcv/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>llcv - library for manipulating linked-list condition variable objects</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;llcv.h&quot;

typedef struct llcv_str
{
    Lyst            list;
    pthread_mutex_t mutex;
    pthread_cond_t  cv;
} *Llcv;

typedef int (*LlcvPredicate)(Llcv);

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>A "linked-list condition variable" object (LLCV) is an inter-thread
communication mechanism that pairs a process-private linked list in
memory with a condition variable as provided by the pthreads library.
LLCVs echo in thread programming the standard ION inter-process or
inter-task communication model that pairs shared-memory semaphores
with linked lists in shared memory or shared non-volatile storage.
As in the semaphore/list model, variable-length messages may be
transmitted; the resources allocated to the communication mechanism
grow and shrink to accommodate changes in data rate; the rate at
which messages are issued is completely decoupled from the rate at
which messages are received and processed.  That is, there is no flow
control, no blocking, and therefore no possibility of deadlock or
"deadly embrace".  Traffic spikes are handled without impact on
processing rate, provided sufficient memory is provided to
accommodate the peak backlog.</p>
<p>An LLCV comprises a Lyst, a mutex, and a condition variable.  The Lyst
may be in either private or shared memory, but the Lyst itself is not
shared with other processes.  The reader thread waits on the condition
variable until signaled by a writer that some condition is now true.  The
standard Lyst API functions are used to populate and drain the linked
list.  In order to protect linked list integrity, each thread must call
llcv_lock() before operating on the Lyst and llcv_unlock() afterwards.  The
other llcv functions merely effect flow signaling in a way that makes it
unnecessary for the reader to poll or busy-wait on the Lyst.</p>
<ul>
<li>
<p>Llcv llcv_open(Lyst list, Llcv llcv)</p>
<p>Opens an LLCV, initializing as necessary.  The <em>list</em> argument must point
to an existing Lyst, which may reside in either private or shared dynamic
memory.  <em>llcv</em> must point to an existing llcv_str management object, which
may reside in either static or dynamic (private or shared) memory -- but
<em>NOT</em> in stack space.  Returns <em>llcv</em> on success, NULL on any error. </p>
</li>
<li>
<p>void llcv_lock(Llcv llcv)</p>
<p>Locks the LLCV's Lyst so that it may be updated or examined safely by the
calling thread.  Fails silently on any error.</p>
</li>
<li>
<p>void llcv_unlock(Llcv llcv)</p>
<p>Unlocks the LLCV's Lyst so that another thread may lock and update or examine
it.  Fails silently on any error.</p>
</li>
<li>
<p>int llcv_wait(Llcv llcv, LlcvPredicate cond, int microseconds)</p>
<p>Returns when the Lyst encapsulated within the LLCV meets the indicated
condition.  If <em>microseconds</em> is non-negative, will return -1 and set
<em>errno</em> to ETIMEDOUT when the indicated number of microseconds has
passed, if and only if the indicated condition has not been met by that
time.  Negative values of the microseconds argument other than LLCV_BLOCKING
(defined as -1) are illegal.  Returns -1 on any error.</p>
</li>
<li>
<p>void llcv_signal(Llcv llcv, LlcvPredicate cond)</p>
<p>Locks the indicated LLCV's Lyst; tests (evaluates) the indicated condition
with regard to that LLCV; if the condition is true, signals to the waiting
reader on this LLCV (if any) that the Lyst encapsulated in the indicated
LLCV now meets the indicated condition; and unlocks the Lyst.</p>
</li>
<li>
<p>void llcv_signal_while_locked(Llcv llcv, LlcvPredicate cond)</p>
<p>Same as llcv_signal() except does not lock the Llcv's mutex before
signalling or unlock afterwards.  For use when the Llcv is already
locked; prevents deadlock.</p>
</li>
<li>
<p>void llcv_close(Llcv llcv)</p>
<p>Destroys the indicated LLCV's mutex and condition variable.  Fails silently
(and has no effect) if a reader is currently waiting on the Llcv.</p>
</li>
<li>
<p>int llcv_lyst_is_empty(Llcv Llcv)</p>
<p>A built-in "convenience" predicate, for use when calling llcv_wait(),
llcv_signal(), or llcv_signal_while_locked().  Returns true if the length
of the indicated LLCV's encapsulated Lyst is zero, false otherwise.</p>
</li>
<li>
<p>int llcv_lyst_not_empty(Llcv Llcv)</p>
<p>A built-in "convenience" predicate, for use when calling llcv_wait(),
llcv_signal(), or llcv_signal_while_locked().  Returns true if the length
of the LLCV's encapsulated Lyst is non-zero, false otherwise.</p>
</li>
</ul>
<h1 id="see-also">SEE ALSO</h1>
<p>lyst(3)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
