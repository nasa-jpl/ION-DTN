<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/bpv7/brsscla/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/bpv7/brsscla.md";
        var mkdocs_page_url = "/ION-DTN/man/bpv7/brsscla/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>brsscla - BRSS-based BP convergence layer adapter (input and output) task</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p><strong>brsscla</strong> <em>local_hostname</em>[:<em>local_port_nbr</em>]</p>
<h1 id="description">DESCRIPTION</h1>
<p>BRSS is the "server" side of the Bundle Relay Service (BRS) convergence
layer protocol for BP.  It is complemented by BRSC, the "client" side of
the BRS convergence layer protocol for BP.</p>
<p><strong>brsscla</strong> is a background "daemon" task that spawns 2*N threads: one that
handles BRSS client connections and spawns sockets for continued data
interchange with connected clients; one that handles BRSS protocol output
by transmitting over those spawned sockets to the associated clients; and
two thread for each spawned socket, an input thread to handle BRSS protocol
input from the associated connected client and an output thread to forward
BRSS protocol output to the associated connected client.</p>
<p>The connection thread simply accepts connections on a TCP socket bound to
<em>local_hostname</em> and <em>local_port_nbr</em> and spawns reception threads.  The
default value for <em>local_port_nbr</em>, if omitted, is 80.</p>
<p>Each reception thread receives over the socket connection the node number
of the connecting client (in SDNV representation), followed by a 32-bit time
tag and a 160-bit HMAC-SHA1 digest of that time tag.  The receiving thread
checks the time tag, requiring that it differ from the current time by no
more than BRSTERM (default value 5) seconds.  It then recomputes the digest
value using the HMAC-SHA1 key named "<em>node_number</em>.brs" as recorded in the
ION security database (see ionsecrc(5)), requiring that the supplied and
computed digests be identical.  If all registration conditions are met, the
receiving thread sends the client a countersign -- a similarly computed
HMAC-SHA1 digest, for the time tag that is 1 second later than the provided
time tag -- to assure the client of its own authenticity, then commences
receiving bundles over the connected socket.  Each bundle received on the
connection is preceded by its length, a 32-bit unsigned integer in network
byte order.  The received bundles are passed to the bundle protocol agent
on the local ION node.</p>
<p>Each output thread extracts bundles from the queues of bundles ready for
transmission via BRSS to the corresponding connected client and transmits the
bundles over the socket to that client.  Each transmitted bundle is
preceded by its length, a 32-bit unsigned integer in network byte order.</p>
<p><strong>brsscla</strong> is spawned automatically by <strong>bpadmin</strong> in response to the 's' (START)
command that starts operation of the Bundle Protocol, and it is terminated by
<strong>bpadmin</strong> in response to an 'x' (STOP) command.  <strong>brsscla</strong> can also be
spawned and terminated in response to START and STOP commands that pertain
specifically to the BRSS convergence layer protocol.</p>
<h1 id="exit-status">EXIT STATUS</h1>
<ul>
<li>
<p>"0"</p>
<p><strong>brsscla</strong> terminated normally, for reasons noted in the <strong>ion.log</strong> file.  If
this termination was not commanded, investigate and solve the problem identified
in the log file and use <strong>bpadmin</strong> to restart the BRSS protocol.</p>
</li>
<li>
<p>"1"</p>
<p><strong>brsscla</strong> terminated abnormally, for reasons noted in the <strong>ion.log</strong> file.
Investigate and solve the problem identified in the log file, then use
<strong>bpadmin</strong> to restart the BRSS protocol.</p>
</li>
</ul>
<h1 id="files">FILES</h1>
<p>No configuration files are needed.</p>
<h1 id="environment">ENVIRONMENT</h1>
<p>No environment variables apply.</p>
<h1 id="diagnostics">DIAGNOSTICS</h1>
<p>The following diagnostics may be issued to the <strong>ion.log</strong> log file:</p>
<ul>
<li>
<p>brsscla can't attach to BP.</p>
<p><strong>bpadmin</strong> has not yet initialized Bundle Protocol operations.</p>
</li>
<li>
<p>No such brss induct.</p>
<p>No BRSS induct with duct name matching <em>local_hostname</em> and <em>local_port_nbr</em>
has been added to the BP database.  Use <strong>bpadmin</strong> to stop the BRSS
convergence-layer protocol, add the induct, and then restart the BRSS protocol.</p>
</li>
<li>
<p>CLI task is already started for this duct.</p>
<p>Redundant initiation of <strong>brsscla</strong>.</p>
</li>
<li>
<p>Can't get IP address for host</p>
<p>Operating system error.  Check errtext, correct problem, and restart BRSS.</p>
</li>
<li>
<p>Can't open TCP socket</p>
<p>Operating system error -- unable to open TCP socket for accepting connections.
Check errtext, correct problem, and restart BRSS.</p>
</li>
<li>
<p>Can't initialize socket (note: must be root for port 80)</p>
<p>Operating system error.  Check errtext, correct problem, and restart BRSS.</p>
</li>
<li>
<p>brsscla can't create sender thread</p>
<p>Operating system error.  Check errtext, correct problem, and restart BRSS.</p>
</li>
<li>
<p>brsscla can't create access thread</p>
<p>Operating system error.  Check errtext, correct problem, and restart BRSS.</p>
</li>
</ul>
<h1 id="bugs">BUGS</h1>
<p>Report bugs to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#111;&#110;&#45;&#100;&#116;&#110;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#115;&#111;&#117;&#114;&#99;&#101;&#102;&#111;&#114;&#103;&#101;&#46;&#110;&#101;&#116;">&#105;&#111;&#110;&#45;&#100;&#116;&#110;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#115;&#111;&#117;&#114;&#99;&#101;&#102;&#111;&#114;&#103;&#101;&#46;&#110;&#101;&#116;</a></p>
<h1 id="see-also">SEE ALSO</h1>
<p>bpadmin(1), bprc(5), brsccla(1)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
