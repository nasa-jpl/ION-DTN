<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ams/amsmib/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/ams/amsmib.md";
        var mkdocs_page_url = "/ION-DTN/man/ams/amsmib/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ici/">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>amsmib - Asynchronous Message Service (AMS) MIB update utility</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p><strong>amsmib</strong> <em>application_name</em> <em>authority_name</em> <em>role_name</em> <em>continuum_name</em> <em>unit_name</em> <em>file_name</em></p>
<h1 id="description">DESCRIPTION</h1>
<p><strong>amsmib</strong> is a utility program that announces relatively brief Management
Information Base (MIB) updates to a select population of AMS modules.  Because
<strong>amsd</strong> processes may run AAMS modules in background threads, and because a
single MIB is shared in common among all threads of any process, <strong>amsmib</strong> may
update the MIBs used by registrars and/or configuration servers as well.</p>
<p>MIB updates can only be propagated to modules for which the subject "amsmib"
was defined in the MIB initialization files cited at module registration
time.  All ION AMS modules implicitly invite messages on subject "amsmib"
(from all modules registered in role "amsmib" in all continua of the same
venture) at registration time if subject "amsmib" and role "amsmib" are
defined in the MIB.</p>
<p><strong>amsmib</strong> registers in the root cell of the message space identified by
<em>application_name</em> and <em>authority_name</em>, within the local continuum.  It
registers in the role "amsmib"; if this role is not defined in the (initial)
MIB loaded by <strong>amsmib</strong> at registration time, then registration fails and
<strong>amsmib</strong> terminates.</p>
<p><strong>amsmib</strong> then reads into a memory buffer up to 4095 bytes of MIB update
text from the file identified by <em>file_name</em>.  The MIB update text must
conform to amsxml(5) or amsrc(5) syntax, depending on whether or not the
intended recipient modules were compiled with the -DNOEXPAT option.</p>
<p><strong>amsmib</strong> then "announces" (see ams_announce() in ams(3)) the contents of the
memory buffer to all modules of this same venture (identified by
<em>application_name</em> and <em>authority_name</em>) that registered in the indicated
role, in the indicated unit of the indicated continuum.  If <em>continuum_name</em>
is "" then the message will be sent to modules in all continua.  If
<em>role_name</em> is "" then all modules will be eligible to receive the message,
regardless of the role in which they registered.  If <em>unit_name</em> is "" (the
root unit) then all modules will be eligible to receive the message,
regardless of the unit in which they registered.</p>
<p>Upon reception of the announced message, each destination module will apply
all of the MIB updates in the content of the message, in exactly the same
way that its original MIB was loaded from the MIB initialization file when
the module started running.</p>
<p>If multiple modules are running in the same memory space (e.g., in different
threads of the same process, or in different tasks on the same VxWorks target)
then the updates will be applied multiple times, because all modules in the
same memory space share a single MIB.  MIB updates are idempotent, so this
is harmless (though some diagnostics may be printed).</p>
<p>Moreover, an <strong>amsd</strong> daemon will have a relevant "MIB update" module running
in a background thread if <em>application_name</em> and <em>authority_name</em> were cited 
on the command line that started the daemon (provided the role "amsd" was
defined in the initial MIB loaded at the time <strong>amsd</strong> began running).  The
MIB exposed to the configuration server and/or registrar running in that
daemon will likewise be updated upon reception of the announced message.</p>
<p>The name of the subject of the announced mib update message is "amsmib"; if
this subject is not defined in the (initial) MIB loaded by <strong>amsmib</strong> then
the message cannot be announced.  Nor can any potential recipient module
receive the message if subject "amsmib" is not defined in that module's MIB.</p>
<h1 id="exit-status">EXIT STATUS</h1>
<ul>
<li>
<p>"0"</p>
<p><strong>amsmib</strong> terminated normally.</p>
</li>
<li>
<p>"1"</p>
<p>An anomalous exit status, indicating that <strong>amsmib</strong> failed to register.</p>
</li>
</ul>
<h1 id="files">FILES</h1>
<p>A MIB initialization file with the applicable default name (see amsrc(5) and
amsxml(5)) must be present.</p>
<h1 id="environment">ENVIRONMENT</h1>
<p>No environment variables apply.</p>
<h1 id="diagnostics">DIAGNOSTICS</h1>
<p>The following diagnostics may be issued to the <strong>ion.log</strong> log file:</p>
<ul>
<li>
<p>amsmib subject undefined.</p>
<p>The <strong>amsmib</strong> utility was unable to announce the MIB update message.</p>
</li>
<li>
<p>amsmib domain role unknown.</p>
<p>The <strong>amsmib</strong> utility was unable to announce the MIB update message.</p>
</li>
<li>
<p>amsmib domain continuum unknown.</p>
<p>The <strong>amsmib</strong> utility was unable to announce the MIB update message.</p>
</li>
<li>
<p>amsmib domain unit unknown.</p>
<p>The <strong>amsmib</strong> utility was unable to announce the MIB update message.</p>
</li>
<li>
<p>amsmib can't open MIB file.</p>
<p>The <strong>amsmib</strong> utility was unable to construct the MIB update message.</p>
</li>
<li>
<p>MIB file length &gt; 4096.</p>
<p>The MIB update text file was too long to fit into the <strong>amsmib</strong> message buffer.</p>
</li>
<li>
<p>Can't seek to end of MIB file.</p>
<p>I/O error in processing the MIB update text file.</p>
</li>
<li>
<p>Can't read MIB file.</p>
<p>I/O error in processing the MIB update text file.</p>
</li>
<li>
<p>amsmib can't announce 'amsmib' message.</p>
<p>The <strong>amsmib</strong> utility was unable to announce the MIB update message, for
reasons noted in the log file.</p>
</li>
<li>
<p>amsmib can't register.</p>
<p>The <strong>amsmib</strong> utility failed to register, for reasons noted in the log file.</p>
</li>
</ul>
<h1 id="bugs">BUGS</h1>
<p>Report bugs to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#111;&#110;&#45;&#100;&#116;&#110;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#115;&#111;&#117;&#114;&#99;&#101;&#102;&#111;&#114;&#103;&#101;&#46;&#110;&#101;&#116;">&#105;&#111;&#110;&#45;&#100;&#116;&#110;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#115;&#111;&#117;&#114;&#99;&#101;&#102;&#111;&#114;&#103;&#101;&#46;&#110;&#101;&#116;</a></p>
<h1 id="see-also">SEE ALSO</h1>
<p>amsd(1), ams(3), amsrc(5), amsxml(5)</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
