
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ici/platform/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>NAME - ION-DTN Open Source Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#name" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ION-DTN Open Source Documentation" class="md-header__button md-logo" aria-label="ION-DTN Open Source Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ION-DTN Open Source Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              NAME
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  ION Overview

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Basic-Configuration-File-Tutorial/" class="md-tabs__link">
          
  
  Configuration

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ION-Design-and-API-Overview/" class="md-tabs__link">
          
  
  ION APIs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ams/" class="md-tabs__link">
          
  
  Man Pages

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/" class="md-tabs__link">
          
  
  Cloud Deployment

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ION-DTN Open Source Documentation" class="md-nav__button md-logo" aria-label="ION-DTN Open Source Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ION-DTN Open Source Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ION Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            ION Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Quick-Start-Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Deployment-Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Deployment Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Design & Operation Manual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Watch-Characters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Watch Characters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AMS-Programmer-Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AMS Programmer's Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Use-Cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Cases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../List-of-Papers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publications/Papers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/Contributing-Code-to-ION/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute Code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Basic-Configuration-File-Tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Configuration Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Config-File-Templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration Templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Configure-Multiple-Network-Interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi-network Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Using-LTP-Config-Tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LTP Configuration Tool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Launcher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Launcher Script
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ION APIs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ION APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Design-and-API-Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Design & API Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ICI-API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Infrastructure API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Application-Service-Interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Application Service Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BP-Service-API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BP Service API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LTP-UComm-API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LTP Underlying Communications API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CLA-API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLA API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Extension-Block-Interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extension Block Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Platform-Macros-Error-Reporting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform Macros & Error Reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ION-Utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Utility Programs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Man Pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Man Pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asychronous Messaging System (AMS)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bpv6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle Protocol v6 (BPv6)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bpv7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle Protcool v7 (BPv7)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle Streaming Service (BSS)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bssp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle Streaming Service (Test Utility) Protocol (BSSP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cfdp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CCSDS File Delivery Protocol (CFDP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dgr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datagram Retransmission System (DGR)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dtpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delay Tolerant Payload Conditioning (DTPC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interplanetary Communications Infrastructure (ICI)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ltp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licklider Transmission Protocol (LTP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Management Agent for Asynchronous Management Protocol (AMP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../restart/ionrestart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION Node Restart Utility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delay Tolerant Key Administration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cloud Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cloud Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running 1 ION Node on Cloud VM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running 2 ION Node on Cloud VM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ION and IOT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LTP and TCP on Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-multicasting-main/Multicasting-over-ION/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multicast
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/dtn-video-intelligence-main/Video-Intelligence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Intelligence
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="name">NAME</h1>
<p>platform - C software portability definitions and functions</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;platform.h&quot;

[see description for available functions]
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p><em>platform</em> is a library of functions that simplify the porting of
software written in C.  It provides an API that enables application 
code to access the resources of an abstract POSIX-compliant
"least common denominator" operating system -- typically a large
subset of the resources of the actual underlying operating system.</p>
<p>Most of the functionality provided by the platform library is
aimed at making communication code portable: common functions for
shared memory, semaphores, and IP sockets are provided.<br />
The implementation of the abstract O/S API varies according
to the actual operating system on which the application runs, but
the API's behavior is always the same; applications that invoke
the platform library functions rather than native O/S system
calls may forego some O/S-specific capability, but they gain portability 
at little if any cost in performance.</p>
<p>Differences in word size among platforms are implemented by values
of the <em>SPACE_ORDER</em> macro.  "Space order" is the base 2 log of the
number of octets in a word: for 32-bit machines the space order is
2 (2^2 = 4 octets per word), for 64-bit machines it is 3 (2^3 = 8
octets per word).</p>
<p>A consistent platform-independent representation of large integers is
useful for some applications.  For this purpose, <em>platform</em> defines
new types <strong>vast</strong> and <strong>uvast</strong> (unsigned vast) which are consistently
defined to be 64-bit integers regardless of the platform's native word
size.</p>
<p>The platform.h header file #includes many of the most frequently
needed header files: sys/types.h, errno.h, string.h, stdio.h,
sys/socket.h, signal.h, dirent.h, netinet/in.h, unistd.h,
stdlib.h, sys/time.h, sys/resource.h, malloc.h, sys/param.h,
netdb.h, sys/uni.h, and fcntl.h.  Beyond this, <em>platform</em> attempts 
to enhance compatibility by providing standard macros,
type definitions, external references, or function implementations 
that are missing from a few supported O/S's but supported
by all others.  Finally, entirely new, generic functions are provided 
to establish a common body of functionality that subsumes
significantly different O/S-specific capabilities.</p>
<h2 id="platform-compatibility-patches">PLATFORM COMPATIBILITY PATCHES</h2>
<p>The platform library "patches" the APIs of supported O/S's to
guarantee that all of the following items may be utilized by application 
software:</p>
<div class="highlight"><pre><span></span><code>The strchr(), strrchr(), strcasecmp(), and strncasecmp() functions.

The unlink(), getpid(), and gettimeofday() functions.

The select() function.

The FD_BITMAP macro (used by select()).

The MAXHOSTNAMELEN macro.

The NULL macro.

The timer_t type definition.
</code></pre></div>
<h2 id="platform-generic-macros-and-functions">PLATFORM GENERIC MACROS AND FUNCTIONS</h2>
<p>The generic macros and functions in this section may be used in
place of comparable O/S-specific functions, to enhance the portability 
of code.  (The implementations of these macros and functions are 
no-ops in environments in which they are inapplicable,
so they're always safe to call.)</p>
<ul>
<li>
<p>FDTABLE_SIZE</p>
<p>The FDTABLE_SIZE macro returns the total number of file
descriptors defined for the process (or VxWorks target).</p>
</li>
<li>
<p>ION_PATH_DELIMITER</p>
<p>The ION_PATH_DELIMITER macro returns the ASCII character -- either '/' or
'\' -- that is used as a directory name delimiter in path names for the
file system used by the local platform.</p>
</li>
<li>
<p>oK(expression)</p>
<p>The oK macro simply casts the value of <em>expression</em> to void, a way of
handling function return codes that are not meaningful in this context.</p>
</li>
<li>
<p>CHKERR(condition)</p>
<p>The CHKERR macro is an "assert" mechanism.  It causes the calling function
to return -1 immediately if <em>condition</em> is false. </p>
</li>
<li>
<p>CHKZERO(condition)</p>
<p>The CHKZERO macro is an "assert" mechanism.  It causes the calling function
to return 0 immediately if <em>condition</em> is false. </p>
</li>
<li>
<p>CHKNULL(condition)</p>
<p>The CHKNULL macro is an "assert" mechanism.  It causes the calling function
to return NULL immediately if <em>condition</em> is false. </p>
</li>
<li>
<p>CHKVOID(condition)</p>
<p>The CHKVOID macro is an "assert" mechanism.  It causes the calling function
to return immediately if <em>condition</em> is false. </p>
</li>
<li>
<p>void snooze(unsigned int seconds)</p>
<p>Suspends execution of the invoking task or process for the indicated 
number of seconds.</p>
</li>
<li>
<p>void microsnooze(unsigned int microseconds)</p>
<p>Suspends execution of the invoking task or process for
the indicated number of microseconds.</p>
</li>
<li>
<p>void getCurrentTime(struct timeval *time)</p>
<p>Returns the current local time (ctime, i.e., Unix epoch time) in a timeval
structure (see gettimeofday(3C)).</p>
</li>
<li>
<p>void isprintf(char *buffer, int bufSize, char *format, ...)</p>
<p>isprintf() is a safe, portable implementation of snprintf(); see the
snprintf(P) man page for details.  isprintf() differs from snprintf() in that
it always NULL-terminates the string in <em>buffer</em>, even if the length of the
composed string would equal or exceed <em>bufSize</em>.  Buffer overruns are
reported by log message; unlike snprintf(), isprintf() returns void.</p>
</li>
<li>
<p>size_t istrlen(const char *sourceString, size_t maxlen)</p>
<p>istrlen() is a safe implementation of strlen(); see the strlen(3) man 
page for details.  istrlen() differs from strlen() in that it takes a second
argument, the maximum valid length of <em>sourceString</em>.  The function
returns the number of non-NULL characters in <em>sourceString</em> preceding
the first NULL character in <em>sourceString</em>, provided that a NULL
character appears somewhere within the first <em>maxlen</em> characters of
<em>sourceString</em>; otherwise it returns <em>maxlen</em>.</p>
</li>
<li>
<p>char *istrcpy(char *buffer, char *sourceString, int bufSize)</p>
<p>istrcpy() is a safe implementation of strcpy(); see the strcpy(3) man
page for details.  istrcpy() differs from strcpy() in that it takes a
third argument, the total size of the buffer into which <em>sourceString</em>
is to be copied.  istrcpy() always NULL-terminates the string in <em>buffer</em>,
even if the length of <em>sourceString</em> string would equal or exceed
<em>bufSize</em> (in which case <em>sourceString</em> is truncated to fit within
the buffer).</p>
</li>
<li>
<p>char *istrcat(char *buffer, char *sourceString, int bufSize)</p>
<p>istrcat() is a safe implementation of strcat(); see the strcat(3) man
page for details.  istrcat() differs from strcat() in that it takes a
third argument, the total size of the buffer for the string that is being
aggregated. istrcat() always NULL-terminates the string in <em>buffer</em>, even
if the length of <em>sourceString</em> string would equal or exceed the sum of
<em>bufSize</em> and the length of the string currently occupying the buffer
(in which case <em>sourceString</em> is truncated to fit within the buffer).</p>
</li>
<li>
<p>char *igetcwd(char *buf, size_t size)</p>
<p>igetcwd() is normally just a wrapper around getcwd(3).  It differs from
getcwd(3) only when FSWWDNAME is defined, in which case the implementation
of igetcwd() must be supplied in an included file named "wdname.c"; this
adaptation option accommodates flight software environments in which the
current working directory name must be configured rather than discovered
at run time.</p>
</li>
<li>
<p>void isignal(int signbr, void (*handler)(int))</p>
<p>isignal() is a portable, simplified interface to signal handling that is
functionally indistinguishable from signal(P).  It assures that reception
of the indicated signal will interrupt system calls in SVR4 fashion, even
when running on a FreeBSD platform.</p>
</li>
<li>
<p>void iblock(int signbr)</p>
<p>iblock() simply prevents reception of the indicated signal by the calling
thread.  It provides a means of controlling which of the threads in a process
will receive the signal cited in an invocation of isignal().</p>
</li>
<li>
<p>int ifopen(const char *fileName, int flags, int pmode)</p>
<p>ifopen() is a portable function for opening "regular" files.  It operates
in exactly the same way as open() except that it fails (returning -1) if 
<em>fileName</em> does not identify a regular file, i.e., it's a directory, a
named pipe, etc.</p>
<p><strong>NOTE</strong> that ION also provides iopen() which is nothing more than a
portable wrapper for open().  iopen() can be used to open a directory, for
example.</p>
</li>
<li>
<p>char *igets(int fd, char *buffer, int buflen, int *lineLen)</p>
<p>igets() reads a line of text, delimited by a newline character, from <em>fd</em>
into <em>buffer</em> and writes a NULL character at the end of the string.  The
newline character itself is omitted from the NULL-terminated text line in
<em>buffer</em>; if the newline is immediately preceded by a carriage return
character (i.e., the line is from a DOS text file), then the carriage return
character is likewise omitted from the NULL-terminated text line in
<em>buffer</em>.  End of file is interpreted as an implicit newline, terminating
the line.  If the number of characters preceding the newline is greater
than or equal to <em>buflen</em>, only the first (<em>buflen</em> - 1) characters of
the line are written into <em>buffer</em>.  On error the function sets <em>*lineLen</em>
to -1 and returns NULL.  On reading end-of-file, the function sets <em>*lineLen</em>
to zero and returns NULL.  Otherwise the function sets <em>*lineLen</em> to the
length of the text line in <em>buffer</em>, as if from strlen(3), and returns
<em>buffer</em>.</p>
</li>
<li>
<p>int iputs(int fd, char *string)</p>
<p>iputs() writes to <em>fd</em> the NULL-terminated character string at <em>string</em>.  No
terminating newline character is appended to <em>string</em> by iputs().  On error
the function returns -1; otherwise the function returns the length of the
character string written to <em>fd</em>, as if from strlen(3).</p>
</li>
<li>
<p>vast strtovast(char *string)</p>
<p>Converts the leading characters of <em>string</em>, skipping leading white space
and ending at the first subsequent character that can't be interpreted as
contributing to a numeric value, to a <strong>vast</strong> integer and returns that integer.</p>
</li>
<li>
<p>uvast strtouvast(char *string)</p>
<p>Same as strtovast() except the result is an unsigned <strong>vast</strong> integer value.</p>
</li>
<li>
<p>void findToken(char **cursorPtr, char **token)</p>
<p>Locates the next non-whitespace lexical token in a character array, starting
at <em>*cursorPtr</em>.  The function NULL-terminates that token within the array
and places a pointer to the token in <em>*token</em>.  Also accommodates tokens
enclosed within matching single quotes, which may contain embedded spaces
and escaped single-quote characters.  If no token is found, <em>*token</em> contains
NULL on return from this function.</p>
</li>
<li>
<p>void *acquireSystemMemory(size_t size)</p>
<p>Uses memalign() to allocate a block of system memory of length <em>size</em>,
starting at an address that is guaranteed to be an integral multiple of
the size of a pointer to void, and initializes the entire block to binary
zeroes.  Returns the starting address of the allocated block on success;
returns NULL on any error.</p>
</li>
<li>
<p>int createFile(const char *name, int flags)</p>
<p>Creates a file of the indicated name, using the indicated file creation flags.
This function provides common file creation functionality across VxWorks and
Unix platforms, invoking creat() under VxWorks and open() elsewhere.  For
return values, see creat(2) and open(2).</p>
</li>
<li>
<p>unsigned int getInternetAddress(char *hostName)</p>
<p>Returns the IP address of the indicated host machine, or zero if the
address cannot be determined.</p>
</li>
<li>
<p>char *getInternetHostName(unsigned int hostNbr, char *buffer)</p>
<p>Writes the host name of the indicated host machine into <em>buffer</em> and
returns <em>buffer</em>, or returns NULL on any error.  The size of <em>buffer</em>
should be (MAXHOSTNAMELEN + 1).</p>
</li>
<li>
<p>int getNameOfHost(char *buffer, int bufferLength)</p>
<p>Writes the first (<em>bufferLength</em> - 1) characters of the
host name of the local machine into <em>buffer</em>.  Returns 0 on success, -1 on
any error.</p>
</li>
<li>
<p>unsigned int getAddressOfHost()</p>
<p>Returns the IP address for the host name of the local machine, or 0 on any
error.</p>
</li>
<li>
<p>void parseSocketSpec(char *socketSpec, unsigned short *portNbr, unsigned int *hostNbr)</p>
<p>Parses <em>socketSpec</em>, extracting host number (IP address) and port number from
the string.  <em>socketSpec</em> is expected to be of the form
"{ @ | hostname }[:&lt;portnbr&gt;]", where @ signifies "the host name of the
local machine".  If host number can be determined, writes it into <em>*hostNbr</em>;
otherwise writes 0 into <em>*hostNbr</em>.  If port number is supplied and
is in the range 1024 to 65535, writes it into <em>*portNbr</em>; otherwise writes
0 into <em>*portNbr</em>.</p>
</li>
<li>
<p>void printDottedString(unsigned int hostNbr, char *buffer)</p>
<p>Composes a dotted-string (xxx.xxx.xxx.xxx) representation of the IPv4 address
in <em>hostNbr</em> and writes that string into <em>buffer</em>.  The length of <em>buffer</em>
must be at least 16.</p>
</li>
<li>
<p>char *getNameOfUser(char *buffer)</p>
<p>Writes the user name of the invoking task or process
into <em>buffer</em> and returns <em>buffer</em>.  The size of <em>buffer</em>
must be at least <em>L_cuserid</em>, a constant defined in the
stdio.h header file.  Returns <em>buffer</em>.</p>
</li>
<li>
<p>int reUseAddress(int fd)</p>
<p>Makes the address that is bound to the socket identified by 
<em>fd</em> reusable, so that the socket can be closed
and immediately reopened and re-bound to the same port number.
Returns 0 on success, -1 on any error.</p>
</li>
<li>
<p>int makeIoNonBlocking(int fd)</p>
<p>Makes I/O on the socket identified by <em>fd</em> non-blocking; returns -1 on
failure.  An attempt to read on a non-blocking socket when no data are pending, 
or to write on it when its output buffer is full, will not block; 
it will instead return -1 and cause errno to be set to EWOULDBLOCK.</p>
</li>
<li>
<p>int watchSocket(int fd)</p>
<p>Turns on the "linger" and "keepalive" options for the
socket identified by <em>fd</em>.  See socket(2) for details.  Returns 0 on
success, -1 on any failure.</p>
</li>
<li>
<p>void closeOnExec(int fd)</p>
<p>Ensures that <em>fd</em> will NOT be open in any child process
fork()ed from the invoking process.  Has no effect on a VxWorks platform.</p>
</li>
</ul>
<h2 id="exception-reporting">EXCEPTION REPORTING</h2>
<p>The functions in this section offer platform-independent capabilities
for reporting on processing exceptions.</p>
<p>The underlying mechanism for ICI's exception reporting is a pair of
functions that record error messages in a privately managed pool of
static memory.  These functions -- postErrmsg() and postSysErrmsg() --
are designed to return very rapidly with no possibility of failing,
themselves.  Nonetheless they are not safe to call from an interrupt
service routing (ISR).  Although each merely copies its text to the
next available location in the error message memory pool, that pool
is protected by a mutex; multiple processes might be queued up to
take that mutex, so the total time to execute the function is
non-deterministic.</p>
<p>Built on top of postErrmsg() and postSysErrmsg() are the putErrmsg()
and putSysErrmsg() functions, which may take longer to return.  Each
one simply calls the corresponding "post" function but then calls the
writeErrmsgMemos() function, which calls writeMemo() to print (or
otherwise deliver) each message currently posted to the pool and
then destroys all of those posted messages, emptying the pool.</p>
<p>Recommended general policy on using the ICI exception reporting functions
(which the functions in the ION distribution libraries are supposed to
adhere to) is as follows:</p>
<div class="highlight"><pre><span></span><code>    In the implementation of any ION library function or any ION
    task&#39;s top-level driver function, any condition that prevents
    the function from continuing execution toward producing the
    effect it is designed to produce is considered an &quot;error&quot;.

    Detection of an error should result in the printing of an
    error message and, normally, the immediate return of whatever
    return value is used to indicate the failure of the function
    in which the error was detected.  By convention this value
    is usually -1, but both zero and NULL are appropriate
    failure indications under some circumstances such as object
    creation.

    The CHKERR, CHKZERO, CHKNULL, and CHKVOID macros are used to
    implement this behavior in a standard and lexically terse
    manner.  Use of these macros offers an additional feature:
    for debugging purposes, they can easily be configured to
    call sm_Abort() to terminate immediately with a core dump
    instead of returning a error indication.  This option is
    enabled by setting the compiler parameter CORE_FILE_NEEDED
    to 1 at compilation time.

    In the absence of either any error, the function returns a
    value that indicates nominal completion.  By convention this
    value is usually zero, but under some circumstances other
    values (such as pointers or addresses) are appropriate
    indications of nominal completion.  Any additional information
    produced by the function, such as an indication of &quot;success&quot;,
    is usually returned as the value of a reference argument.
    [Note, though, that database management functions and the
    SDR hash table management functions deviate from this rule:
    most return 0 to indicate nominal completion but functional
    failure (e.g., duplicate key or object not found) and return
    1 to indicate functional success.]

    So when returning a value that indicates nominal completion
    of the function -- even if the result might be interpreted
    as a failure at a higher level (e.g., an object identified
    by a given string is not found, through no failure of the
    search function) -- do NOT invoke putErrmsg().

    Use putErrmsg() and putSysErrmsg() only when functions are
    unable to proceed to nominal completion.  Use writeMemo()
    or writeMemoNote() if you just want to log a message.

    Whenever returning a value that indicates an error:

            If the failure is due to the failure of a system call
            or some other non-ION function, assume that errno
            has already been set by the function at the lowest
            layer of the call stack; use putSysErrmsg (or
            postSysErrmsg if in a hurry) to describe the nature
            of the activity that failed.  The text of the error
            message should normally start with a capital letter
            and should NOT end with a period.

            Otherwise -- i.e., the failure is due to a condition
            that was detected within ION -- use putErrmsg (or
            postErrmg if pressed for time) to describe the nature
            of the failure condition.  This will aid in tracing
            the failure through the function stack in which the
            failure was detected.  The text of the error message
            should normally start with a capital letter and should
            end with a period.

    When a failure in a called function is reported to &quot;driver&quot;
    code in an application program, before continuing or exiting
    use writeErrmsgMemos() to empty the message pool and print a
    simple stack trace identifying the failure.
</code></pre></div>
<ul>
<li>
<p>char *system_error_msg( )</p>
<p>Returns a brief text string describing the current system error, as identified
by the current value of errno.</p>
</li>
<li>
<p>void setLogger(Logger usersLoggerName)</p>
<p>Sets the user function to be used for writing messages to a user-defined "log"
medium.  The logger function's calling sequence must match the following
prototype:</p>
<div class="highlight"><pre><span></span><code>    void    usersLoggerName(char *msg);
</code></pre></div>
<p>The default Logger function simply writes the message to standard output.</p>
</li>
<li>
<p>void writeMemo(char *msg)</p>
<p>Writes one log message, using the currently defined message logging function.</p>
</li>
<li>
<p>void writeMemoNote(char *msg, char *note)</p>
<p>Writes a log message like writeMemo(), accompanied by the user-supplied
context-specific text in <em>note</em>.</p>
</li>
<li>
<p>void writeErrMemo(char *msg)</p>
<p>Writes a log message like writeMemo(), accompanied by text describing the
current system error.</p>
</li>
<li>
<p>char *itoa(int value)</p>
<p>Returns a string representation of the signed integer in <em>value</em>, nominally
for immediate use as an argument to putErrmsg().  [Note that the string is
constructed in a static buffer; this function is not thread-safe.]</p>
</li>
<li>
<p>char *utoa(unsigned int value)</p>
<p>Returns a string representation of the unsigned integer in <em>value</em>, nominally
for immediate use as an argument to putErrmsg().  [Note that the string is
constructed in a static buffer; this function is not thread-safe.]</p>
</li>
<li>
<p>void postErrmsg(char *text, char *argument)</p>
<p>Constructs an error message noting the name of the source file containing
the line at which this function was called, the line number, the <em>text</em> of
the message, and -- if not NULL -- a single textual <em>argument</em> that can be
used to give more specific information about the nature of the reported
failure (such as the value of one of the arguments to the failed
function).  The error message is appended to the list of messages in
a privately managed pool of static memory, ERRMSGS_BUFSIZE bytes in length.</p>
<p>If <em>text</em> is NULL or is a string of zero length or begins with a newline
character (i.e., <em>*text</em> == '\0' or '\n'), the function returns immediately
and no error message is recorded.</p>
<p>The errmsgs pool is designed to be large enough to contain error messages
from all levels of the calling stack at the time that an error is
encountered.  If the remaining unused space in the pool is less than
the size of the new error message, however, the error message is silently
omitted.  In this case, provided at least two bytes of unused space remain
in the pool, a message comprising a single newline character is appended to
the list to indicate that a message was omitted due to excessive length.</p>
</li>
<li>
<p>void postSysErrmsg(char *text, char *arg)</p>
<p>Like postErrmsg() except that the error message constructed by the function
additionally contains text describing the current system error.  <em>text</em> is
truncated as necessary to assure that the sum of its length and that of
the description of the current system error does not exceed 1021 bytes.</p>
</li>
<li>
<p>int getErrmsg(char *buffer)</p>
<p>Copies the oldest error message in the message pool into <em>buffer</em> and
removes that message from the pool, making room for new messages.  Returns
zero if the message pool cannot be locked for update or there are no more
messages in the pool; otherwise returns the length of the message copied
into <em>buffer</em>.  Note that, for safety, the size of <em>buffer</em> should be
ERRMSGS_BUFSIZE.</p>
<p>Note that a returned error message comprising only a single newline character
always signifies an error message that was silently omitted because there
wasn't enough space left on the message pool to contain it.</p>
</li>
<li>
<p>void writeErrmsgMemos( )</p>
<p>Calls getErrmsg() repeatedly until the message pool is empty, using
writeMemo() to log all the messages in the pool.  Messages that were
omitted due to excessive length are indicated by logged lines of the
form "[message omitted due to excessive length]".</p>
</li>
<li>
<p>void putErrmsg(char *text, char *argument)</p>
<p>The putErrmsg() function merely calls postErrmsg() and then
writeErrmsgMemos().</p>
</li>
<li>
<p>void putSysErrmsg(char *text, char *arg)</p>
<p>The putSysErrmsg() function merely calls postSysErrmsg() and then
writeErrmsgMemos().</p>
</li>
<li>
<p>void discardErrmsgs( )</p>
<p>Calls getErrmsg() repeatedly until the message pool is empty, discarding all
of the messages.</p>
</li>
<li>
<p>void printStackTrace( )</p>
<p>On Linux machines only, uses writeMemo() to print a trace of the process's
current execution stack, starting with the lowest level of the stack and
proceeding to the main() function of the executable.</p>
<p>Note that (a) printStackTrace() is <strong>only</strong> implemented for Linux platforms
at this time; (b) symbolic names of functions can only be printed if the
<em>-rdynamic</em> flag was enabled when the executable was linked; (c) only the
names of non-static functions will appear in the stack trace.</p>
<p>For more complete information about the state of the executable at the time
the stack trace snapshot was taken, use the Linux <em>addr2line</em> tool. To do
this, cd into a directory in which the executable file resides (such as
/opt/bin) and submit an addr2line command as follows:</p>
<blockquote>
<div class="highlight"><pre><span></span><code>addr2line -e _name\_of\_executable_ _stack\_frame\_address_
</code></pre></div>
</blockquote>
<p>where both <em>name_of_executable</em> and <em>stack_frame_address</em> are taken from
one of the lines of the printed stack trace.  addr2line will print the source
file name and line number for that stack frame.</p>
</li>
</ul>
<h2 id="watch-characters">WATCH CHARACTERS</h2>
<p>The functions in this section offer platform-independent capabilities
for recording "watch" characters indicating the occurrence of protocol
events.  See bprc(5), ltprc(5), cfdprc(5), etc. for details of the
watch character production options provided by the protocol packages.</p>
<ul>
<li>
<p>void setWatcher(Watcher usersWatcherName)</p>
<p>Sets the user function to be used for recording watch characters to a
user-defined "watch" medium.  The watcher function's calling sequence
must match the following prototype:</p>
<div class="highlight"><pre><span></span><code>    void    usersWatcherName(char token);
</code></pre></div>
<p>The default Watcher function simply writes the token to standard output.</p>
</li>
<li>
<p>void iwatch(char token)</p>
<p>Records one "watch" character, using the currently defined watch character
recording function.</p>
</li>
</ul>
<h2 id="self-delimiting-numeric-values-sdnv">SELF-DELIMITING NUMERIC VALUES (SDNV)</h2>
<p>The functions in this section encode and decode SDNVs, portable variable-length
numeric variables that expand to whatever size is necessary to contain the
values they contain.  SDNVs are used extensively in the BP and LTP libraries.</p>
<ul>
<li>
<p>void encodeSdnv(Sdnv *sdnvBuffer, uvast value)</p>
<p>Determines the number of octets of SDNV text needed to contain the value,
places that number in the <em>length</em> field of the SDNV buffer, and encodes
the value in SDNV format into the first <em>length</em> octets of the <em>text</em> field
of the SDNV buffer.</p>
</li>
<li>
<p>int decodeSdnv(uvast *value, unsigned char *sdnvText)</p>
<p>Determines the length of the SDNV located at <em>sdnvText</em> and returns this
number after extracting the SDNV's value from those octets and storing it
in <em>value</em>.  Returns 0 if the encoded number value will not fit into an
unsigned vast integer.</p>
</li>
</ul>
<h2 id="arithmetic-on-large-integers-scalars">ARITHMETIC ON LARGE INTEGERS (SCALARS)</h2>
<p>The functions in this section perform simple arithmetic operations on
unsigned Scalar objects -- structures encapsulating large positive
integers in a machine-independent way.  Each Scalar comprises two
integers, a count of units [ranging from 0 to (2^30 - 1), i.e., up
to 1 gig] and a count of gigs [ranging from 0 to (2^31 -1)].  A
Scalar can represent a numeric value up to 2 billion billions,
i.e., 2 million trillions.</p>
<ul>
<li>
<p>void loadScalar(Scalar *scalar, signed int value)</p>
<p>Sets the value of <em>scalar</em> to the absolute value of <em>value</em>.</p>
</li>
<li>
<p>void increaseScalar(Scalar *scalar, signed int value)</p>
<p>Adds to <em>scalar</em> the absolute value of <em>value</em>.</p>
</li>
<li>
<p>void reduceScalar(Scalar *scalar, signed int value)</p>
<p>Adds to <em>scalar</em> the absolute value of <em>value</em>.</p>
</li>
<li>
<p>void multiplyScalar(Scalar *scalar, signed int value)</p>
<p>Multiplies <em>scalar</em> by the absolute value of <em>value</em>.</p>
</li>
<li>
<p>void divideScalar(Scalar *scalar, signed int value)</p>
<p>Divides <em>scalar</em> by the absolute value of <em>value</em>.</p>
</li>
<li>
<p>void copyScalar(Scalar *to, Scalar *from)</p>
<p>Copies the value of <em>from</em> into <em>to</em>.</p>
</li>
<li>
<p>void addToScalar(Scalar *scalar, Scalar *increment)</p>
<p>Adds <em>increment</em> (a Scalar rather than a C integer) to <em>scalar</em>.</p>
</li>
<li>
<p>void subtractFromScalar(Scalar *scalar, Scalar *decrement)</p>
<p>Subtracts <em>decrement</em> (a Scalar rather than a C integer) from <em>scalar</em>.</p>
</li>
<li>
<p>int scalarIsValid(Scalar *scalar)</p>
<p>Returns 1 if the arithmetic performed on <em>scalar</em> has not resulted in
overflow or underflow.</p>
</li>
<li>
<p>int scalarToSdnv(Sdnv *sdnv, Scalar *scalar)</p>
<p>If <em>scalar</em> points to a valid Scalar, stores the value of <em>scalar</em> in
<em>sdnv</em>; otherwise sets the length of <em>sdnv</em> to zero.</p>
</li>
<li>
<p>int sdnvToScalar(Scalar *scalar, unsigned char *sdnvText)</p>
<p>If <em>sdnvText</em> points to a sequence of bytes that, when interpreted as
the text of an Sdnv, has a value that can be represented in a 61-bit
unsigned binary integer, then this function stores that value in <em>scalar</em>
and returns the detected Sdnv length.  Otherwise returns zero.</p>
<p>Note that Scalars and Sdnvs are both representations of potentially large
unsigned integer values.  Any Scalar can alternatively be represented as
an Sdnv.  However, it is possible for a valid Sdnv to be too large to
represent in a Scalar.</p>
</li>
</ul>
<h2 id="private-mutexes">PRIVATE MUTEXES</h2>
<p>The functions in this section provide platform-independent management of
mutexes for synchronizing operations of threads or tasks in a common private
address space.</p>
<ul>
<li>
<p>int initResourceLock(ResourceLock *lock)</p>
<p>Establishes an inter-thread lock for use in locking some resource.  Returns
0 if successful, -1 if not.</p>
</li>
<li>
<p>void killResourceLock(ResourceLock *lock)</p>
<p>Deletes the resource lock referred to by <em>lock</em>.</p>
</li>
<li>
<p>void lockResource(ResourceLock *lock)</p>
<p>Checks the state of <em>lock</em>.  If the lock is already
owned by a different thread, the call blocks until the
other thread relinquishes the lock.  If the lock is
unowned, it is given to the current thread and the lock
count is set to 1.  If the lock is already owned by
this thread, the lock count is incremented by 1.</p>
</li>
<li>
<p>void unlockResource(ResourceLock *lock)</p>
<p>If called by the current owner of <em>lock</em>, decrements <em>lock</em>'s
lock count by 1; if zero, relinquishes the lock so it may be
taken by other threads.  Care must be taken to make sure that one, and
only one, unlockResource() call is issued for each
lockResource() call issued on a given resource lock.</p>
</li>
</ul>
<h2 id="shared-memory-ipc-devices">SHARED MEMORY IPC DEVICES</h2>
<p>The functions in this section provide platform-independent management of
IPC mechanisms for synchronizing operations of threads, tasks, or processes
that may occupy different address spaces but share access to a common system
(nominally, processor) memory.</p>
<p><em>NOTE</em> that this is distinct from the VxWorks "VxMP" capability enabling
tasks to share access to bus memory or dual-ported board memory from multiple
processors.  The "platform" system will support IPC devices that 
utilize this capability at some time in the future, but that support is
not yet implemented.</p>
<ul>
<li>
<p>int sm_ipc_init( )</p>
<p>Acquires and initializes shared-memory IPC management resources.  Must be
called before any other shared-memory IPC function is called.  Returns 0
on success, -1 on any failure.</p>
</li>
<li>
<p>void sm_ipc_stop( )</p>
<p>Releases shared-memory IPC management resources, disabling the shared-memory
IPC functions until sm_ipc_init() is called again.</p>
</li>
<li>
<p>int sm_GetUniqueKey( )</p>
<p>Some of the "sm_" (shared memory) functions described
below associate new communication objects with <em>key</em>
values that uniquely identify them, so that different
processes can access them independently.  Key values
are typically defined as constants in application code.
However, when a new communication object is required
for which no specific need was anticipated in the application, 
the sm_GetUniqueKey() function can be invoked to obtain a new,
arbitrary key value that is known not to be already in use.</p>
</li>
<li>
<p>sm_SemId sm_SemCreate(int key, int semType)</p>
<p>Creates a shared-memory semaphore that can be used to
synchronize activity among tasks or processes residing
in a common system memory but possibly multiple address
spaces; returns a reference handle for that semaphore,
or SM_SEM_NONE on any failure.  If <em>key</em> refers to an existing
semaphore, returns the handle of that semaphore.  If
<em>key</em> is the constant value SM_NO_KEY, automatically
obtains an unused key.  On VxWorks platforms, <em>semType</em>
determines the order in which the semaphore
is given to multiple tasks that attempt to take it while
it is already taken: if set to SM_SEM_PRIORITY then the
semaphore is given to tasks in task priority sequence (i.e.,
the highest-priority task waiting for it receives it when
it is released), while otherwise (SM_SEM_FIFO) the semaphore
is given to tasks in the order in which they attempted to take
it.  On all other platforms, only SM_SEM_FIFO behavior is
supported and <em>semType</em> is ignored.</p>
</li>
<li>
<p>int sm_SemTake(sm_SemId semId)</p>
<p>Blocks until the indicated semaphore is no longer taken by any other
task or process, then takes it.  Return 0 on success, -1 on any error.</p>
</li>
<li>
<p>void sm_SemGive(sm_SemId semId)</p>
<p>Gives the indicated semaphore, so that another task or process can take it.</p>
</li>
<li>
<p>void sm_SemEnd(sm_SemId semId)</p>
<p>This function is used to pass a termination signal to whatever task is
currently blocked on taking the indicated semaphore, if any.  It sets
to 1 the "ended" flag associated with this semaphore, so that a test for
sm_SemEnded() will return 1, and it gives the semaphore so that the
blocked task will have an opportunity to test that flag.</p>
</li>
<li>
<p>int sm_SemEnded(sm_SemId semId)</p>
<p>This function returns 1 if the "ended" flag associated with the
indicated semaphore has been set to 1; returns zero otherwise.  When
the function returns 1 it also gives the semaphore so that any other
tasks that might be pended on the same semaphore are also given an
opportunity to test it and discover that it has been ended.</p>
</li>
<li>
<p>void sm_SemUnend(sm_SemId semId)</p>
<p>This function is used to reset an ended semaphore, so that a restarted
subsystem can reuse that semaphore rather than delete it and allocate a
new one.</p>
</li>
<li>
<p>int sm_SemUnwedge(sm_SemId semId, int timeoutSeconds)</p>
<p>Used to release semaphores that have been taken but never released, possibly
because the tasks or processes that took them crashed before releasing them.
Attempts to take the semaphore; if this attempt does not succeed within
<em>timeoutSeconds</em> seconds (providing time for normal processing to be
completed, in the event that the semaphore is legitimately and temporarily
locked by some task), the semaphore is assumed to be wedged.  In any case,
the semaphore is then released.  Returns 0 on success, -1 on any error.</p>
</li>
<li>
<p>void sm_SemDelete(sm_SemId semId)</p>
<p>Destroys the indicated semaphore.</p>
</li>
<li>
<p>sm_SemId sm_GetTaskSemaphore(int taskId)</p>
<p>Returns the ID of the semaphore that is dedicated to the private use of the
indicated task, or SM_SEM_NONE on any error.</p>
<p>This function implements the concept that for each task there can
always be one dedicated semaphore, which the task can always use for its
own purposes, whose key value may be known a priori because the key of the
semaphore is based on the task's ID.  The design of the function
rests on the assumption that each task's ID, whether a VxWorks task ID
or a Unix process ID, maps to a number that is out of the range of all
possible key values that are arbitrarily produced by sm_GetUniqueKey().
For VxWorks, we assume this to be true because task ID is a pointer to
task state in memory which we assume not to exceed 2GB; the unique key
counter starts at 2GB.  For Unix, we assume this to be true because
process ID is an index into a process table whose size is less than 64K;
unique keys are formed by shifting process ID left 16 bits and adding
the value of an incremented counter which is always greater than zero.</p>
</li>
<li>
<p>int sm_ShmAttach(int key, int size, char **shmPtr, int *id)</p>
<p>Attaches to a segment of memory to which tasks or processes residing in
a common system memory, but possibly multiple address spaces, all have
access.</p>
<p>This function registers the invoking task or process as a user of the
shared memory segment identified by <em>key</em>.  If <em>key</em> is the constant value 
SM_NO_KEY, automatically sets <em>key</em> to some unused key value.
If a shared memory segment identified by <em>key</em> already exists, then
<em>size</em> may be zero and the value of <em>*shmPtr</em> is ignored.
Otherwise the size of the shared memory segment must be provided
in <em>size</em> and a new shared memory segment is created in a manner that is
dependent on <em>*shmPtr</em>: if <em>*shmPtr</em> is NULL then 
<em>size</em> bytes of shared memory are dynamically acquired, allocated, and
assigned to the newly created shared memory segment; otherwise the
memory located at <em>shmPtr</em> is assumed to have been pre-allocated
and is merely assigned to the newly created shared memory segment. </p>
<p>On success, stores the unique shared memory ID of the segment in <em>*id</em>
for possible future destruction, stores a pointer to the segment's
assigned memory in <em>*shmPtr</em>, and returns 1 (if the segment is newly
created) or 0 (otherwise).  Returns -1 on any error.  </p>
</li>
<li>
<p>void sm_ShmDetach(char *shmPtr)</p>
<p>Unregisters the invoking task or process as a user of
the shared memory starting at <em>shmPtr</em>.</p>
</li>
<li>
<p>void sm_ShmDestroy(int id)</p>
<p>Destroys the shared memory segment identified by <em>id</em>, releasing any
memory that was allocated when the segment was created.</p>
</li>
</ul>
<h2 id="portable-multi-tasking">PORTABLE MULTI-TASKING</h2>
<ul>
<li>
<p>int sm_TaskIdSelf( )</p>
<p>Returns the unique identifying number of the invoking task or process.</p>
</li>
<li>
<p>int sm_TaskExists(int taskId)</p>
<p>Returns non-zero if a task or process identified by
<em>taskId</em> is currently running on the local processor, zero otherwise.</p>
</li>
<li>
<p>void *sm_TaskVar(void **arg)</p>
<p>Posts or retrieves the value of the "task variable" belonging to the
invoking task.  Each task has access to a single task variable, initialized
to NULL, that resides in the task's private state; this can be convenient
for passing task-specific information to a signal handler, for example.  If
<em>arg</em> is non-NULL, then <em>*arg</em> is posted as the new value of the task's
private task variable.  In any case, the value of that task variable is
returned.</p>
</li>
<li>
<p>void sm_TaskSuspend( )</p>
<p>Indefinitely suspends execution of the invoking task or
process.  Helpful if you want to freeze an application
at the point at which an error is detected, then use a
debugger to examine its state.</p>
</li>
<li>
<p>void sm_TaskDelay(int seconds)</p>
<p>Same as snooze(3).</p>
</li>
<li>
<p>void sm_TaskYield( )</p>
<p>Relinquishes CPU temporarily for use by other tasks.</p>
</li>
<li>
<p>int sm_TaskSpawn(char *name, char *arg1, char *arg2, char
                       *arg3, char *arg4, char *arg5, char *arg6, char
                       *arg7, char *arg8, char *arg9, char *arg10, int
                       priority, int stackSize)</p>
<p>Spawns/forks a new task/process, passing it up to ten
command-line arguments.  <em>name</em> is the name of the
function (VxWorks) or executable image (UNIX) to be executed 
in the new task/process.</p>
<p>For UNIX, <em>name</em> must be the name of some executable 
program in the $PATH of the invoking process.</p>
<p>For VxWorks, <em>name</em> must be
the name of some function named in an application-defined private
symbol table (if PRIVATE_SYMTAB is defined) or the system symbol
table (otherwise).  If PRIVATE_SYMTAB is defined, the application must
provide a suitable adaptation of the symtab.c source file, which
implements the private symbol table.</p>
<p>"priority" and "stackSize" are ignored under UNIX.  Under VxWorks, if
zero they default to the values in the application-defined private
symbol table if provided, or otherwise to ICI_PRIORITY (nominally 100)
and 32768 respectively.</p>
<p>Returns the task/process ID of the new task/process on
success, or -1 on any error.</p>
</li>
<li>
<p>void sm_TaskKill(int taskId, int sigNbr)</p>
<p>Sends the indicated signal to the indicated task or process.</p>
</li>
<li>
<p>void sm_TaskDelete(int taskId)</p>
<p>Terminates the indicated task or process.</p>
</li>
<li>
<p>void sm_Abort()</p>
<p>Terminates the calling task or process.  If not called while ION is in
flight configuration, a stack trace is printed or a core file is written.</p>
</li>
<li>
<p>int pseudoshell(char *script)</p>
<p>Parses <em>script</em> into a command name and up to 10 arguments, then passes the
command name and arguments to sm_TaskSpawn() for execution.
The sm_TaskSpawn() function is invoked with priority and stack size both
set to zero, causing default values (possibly from an application-defined
private symbol table) to be used.  Tokens in 
<em>script</em> are normally whitespace-delimited, but a token that is enclosed in
single-quote characters (') may contain embedded whitespace and may contain
escaped single-quote characters ("\'").  On any parsing
failure returns -1; otherwise returns the value returned by sm_TaskSpawn().</p>
</li>
</ul>
<h1 id="users-guide">USER'S GUIDE</h1>
<ul>
<li>
<p>Compiling an application that uses "platform":</p>
<p>Just be sure to "#include "platform.h"" at the top of each
source file that includes any platform function calls.</p>
</li>
<li>
<p>Linking/loading an application that uses "platform":</p>
<div class="highlight"><pre><span></span><code>a.   In a Solaris environment, link with these libraries:

         -lplatform -socket -nsl -posix4 -c

b.   In a Linux environment, simply link with platform:

         -lplatform

c.   In a VxWorks environment, use

         ld 1, 0, &quot;libplatform.o&quot;

     to load platform on the target before loading applications.
</code></pre></div>
</li>
</ul>
<h1 id="see-also">SEE ALSO</h1>
<p>gettimeofday(3C)</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  </body>
</html>