<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/community/files/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
    <title>Three-Node Network communication via DTN on Google Cloud Platform and Windows Azure  - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Three-Node Network communication via DTN on Google Cloud Platform and Windows Azure ";
        var mkdocs_page_input_path = "community/files/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure.md";
        var mkdocs_page_url = "/ION-DTN/community/files/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Interplanetary Overlay Network (ION)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../Basic-Configuration-File-Tutorial-Examples/">Basic Configuration File Tutorial</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../Configure-Multiple-Network-Interfaces/">Configure ION for Multiple Network Interfaces</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../ION-Config-File-Templates/">Available Configuration File Templates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../ION-Guide/">Interplanetary Overlay Network (ION) Design and Operation's Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../ION-Quick-Start-Guide/">ION Quick Start Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../ION-Watch-Characters/">ION Watch Characters</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../License/">License</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../List-of-Papers/">List of Papers</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../Use-Cases/">Use Cases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../Using-LTP-Config-Tool/">A Guide to Configuring LTP in ION</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Community</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../Contributing-Code-to-ION/">Contributing Code to ION</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-One-Node-on-Cloud-Linux-VM/">DTN 101 - Running the Interplanetary Internet on Cloud VM </a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Two-Node-on-Cloud-Linux-VMs/">Running DTN on Cloud VM using a Two-Node Ring </a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">Telemetry Data on Cloud Vms using Pub/Sub and DTN </a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Files</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="#">Dtn gcp 2nodes</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="#">Rc files</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-gcp-2nodes/rc_files/host1-start-script-2node/">ION Start Script Example</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-gcp-2nodes/rc_files/host2-start-script-2node/">ION Start Script Example</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Dtn gcp iot main</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-iot-main/iot-python-script/">ION Start Script Example</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-iot-main/sense-python-script/">ION Start Script Example</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Dtn gcp ltp tcp main</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="./">Three-Node Network communication via DTN on Google Cloud Platform and Windows Azure </a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../host3-start-script/">ION Start Script Example</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Dtn gcp main</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/Running-ION/">Testing your connection</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/bp-config/">The Bundle Protocol Configuration File</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/host1-start-script/">ION Start Script Example</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/ion-config/">The ION Configuration File</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/ionsec-config/">ION Security Admin Configuration File</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/ipn-config/">IPN Routing Configuration</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-gcp-main/ltp-config/">The Licklider Transfer Protocol Configuration File</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Dtn multicasting main</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-multicasting-main/Multicasting-over-ION/">Multicasting over the Interplanetary Internet </a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="#">Host1</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/execute/">Execute</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.bprc1/">Host.bprc1</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.bprc2/">Host.bprc2</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.ionrc/">Host.ionrc</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.ionsecrc/">Host.ionsecrc</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.ipnrc/">Host.ipnrc</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/host.ltprc/">Host.ltprc</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/ionstart/">Ionstart</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../dtn-multicasting-main/Host1/ionstop/">Ionstop</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Dtn video intelligence main</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-video-intelligence-main/Video-Intelligence/">Using GCP Video Intelligence over the Interplanetary Internet </a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../dtn-video-intelligence-main/video-processing-script/">Video processing script</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Community</li>
          <li class="breadcrumb-item">Files</li>
          <li class="breadcrumb-item">Dtn gcp ltp tcp main</li>
      <li class="breadcrumb-item active">Three-Node Network communication via DTN on Google Cloud Platform and Windows Azure </li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="three-node-network-communication-via-dtn-on-google-cloud-platform-and-windows-azure">Three-Node Network communication via DTN on Google Cloud Platform and Windows Azure <img alt="🚀" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f680.svg" title=":rocket:" /></h1>
<p>This project has been developed by Dr Lara Suzuki <img alt="👩‍💻" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f469-200d-1f4bb.svg" title=":woman_technologist:" /> <a href="https://twitter.com/larasuzuki"><img alt="Twitter" src="https://img.shields.io/twitter/url/https/twitter.com/larasuzuki.svg?style=social&amp;label=Follow%20%40larasuzuki" /></a>, a Visiting Researcher at Nasa JPL.</p>
<h1 id="introduction">Introduction</h1>
<p>This is the third tutorial on a series of DTN on Google Cloud tutorials. In the <a href="https://github.com/lasuzuki/dtn-gcp">first tutorial</a>, we introduced the ION software and its main functionalities, in addition to an intro to Google Cloud VMs.</p>
<p>In this tutorial we will introduce you to Windows Azure, and how to configure a 3-node network using ION. The figure below shows the network we will be building. Note that this example network uses two different convergence layers: TCP and LTP. This can illustrates the case of a terrestrial connection with two interplanetary internet nodes.</p>
<p>[[images/net_arch.png]]</p>
<h1 id="getting-started-on-windows-azure">Getting Started on Windows Azure</h1>
<p>Sign up for a free account on <a href="www.azure.microsoft.com">Windows Azure</a>. Once your free account is set up, log into the <a href="https://portal.azure.com/">Azure Portal</a>. Under <code>Azure Services</code>, click <code>Virtual Machines</code>. In the Virtual Machines window, click <code>Add</code> and follow the steps below.
1. Click <code>Add</code> then <code>Virtual Machine</code>
2. Subscription <code>free trial</code>
3. In <code>Resource Group</code> select <code>Create New</code> and name it <code>dtn</code>
4. In <code>Virtual Machine name</code> give it a name. In our example it is named <code>Canberra</code>
5. In Region select the region closest to you or of your choice. In our example it is <code>Australia Central</code>
6. In <code>Image</code> select <code>Debian 10 "Buster" Gen 1</code>
7. <code>Size</code> leave it as <code>Standard</code>
8. Under <code>Administrator Account</code> select either the use of SSH public key or Password
9. For <code>Select inbound ports</code> leave SSH(22)
10. Click <code>Review and Create</code>, then click <code>Create</code></p>
<p>To get ION working you must enable the inbound traffic to port 1113 and port 4556 - IANA assigned default DTN TCP port. To enable inbound traffic in those ports, at the top right of your window, hit <code>Home</code>, then <code>Virtual Machines</code>. Click on the Virtual Machine you have just created. On the new loaded page, under <code>Settings</code> click <code>Networking</code> as shown in the image below. </p>
<p>[[images/azure_net.png]]</p>
<p>On the networking page, click <code>Add inbound port rule</code>. Select Source as <code>Any</code>, on <code>Source port ranges</code> add the port numbers you want to allow inbound traffic, select the Protocol, the Action (Allow), and add a high <code>Priority</code> (e.g. 380). Give it a name and hit <code>Add</code>. You now can execute ION and the induct and outducts will work.</p>
<h1 id="three-node-network">Three-Node Network</h1>
<p>In this section, we assume that <code>host 3</code> has an IP address of <code>10.0.0.3</code>. Please modify this for your uses. Please note that in this tutorial we are not covering routing, therefore, <code>host2</code> cannot communicate with <code>host3</code>. The routing tutorial can be found here.</p>
<p>This network is created by running the following command on <code>host 1</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ionstart -I host1.rc
</code></pre></div>
This command is run on <code>host 2</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ionstart -I host2.rc
</code></pre></div>
Finally, this command is run on <code>host 3</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>ionstart -I host3.rc
</code></pre></div></p>
<h1 id="the-host3rc-configuration-file-tcp">The host3.rc configuration file - TCP</h1>
<p>For the configuration files <code>host 1</code> and <code>host 2</code>, follow the examples given in the tutorial <a href="ION-Two-Node-on-Google">Running DTN on Google Cloud using a Two-Node Ring</a></p>
<p>. Remember to add <code>contact</code>, <code>range</code>, <code>span</code>, <code>outduct</code> and a <code>plan</code> for <code>host 3</code>. Below is the configuration file <code>host3.rc</code>.</p>
<p>The <code>ionadmin</code> configuration uses tcp from <code>host 2</code> to <code>host 3</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>## begin ionadmin 
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a># ionrc configuration file for host3 in a 3node tcp/ltp test.
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a># This uses tcp from 1 to 3.
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a># 
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a># Initialization command (command 1). 
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a># Set this node to be node 3 (as in ipn:3).
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a># Use default sdr configuration (empty configuration file name &#39;&#39;).
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>1 3 &#39;&#39;
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a># start ion node
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>s
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a># Add a contact.
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a># It will start at +1 seconds from now, ending +3600 seconds from now.
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a># It will connect node 3 to itself
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a># It will transmit 100000 bytes/second.
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>a contact +1 +3600 3 3 100000
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a># Add more contacts.
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a># They will connect 2 to 3, 3 to 2, and 3 to itself
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a># Note that contacts are unidirectional, so order matters.
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>a contact +1 +3600 3 2 100000
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>a contact +1 +3600 2 3 100000
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>a contact +1 +3600 2 2 100000
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a># Add a range. This is the physical distance between nodes.
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>a range +1 +3600 3 3 1
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a># Add more ranges.
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>a range +1 +3600 2 2 1
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>a range +1 +3600 2 3 1
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a># set this node to consume and produce a mean of 1000000 bytes/second.
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>m production 1000000
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>m consumption 1000000
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>## end ionadmin 
</code></pre></div></p>
<p>The <code>bpadmin</code> configuration uses adds the endpoints and the protocol <code>tcp</code>. In the protocol section, it estimates transmission capacity assuming 1400 bytes of each frame (in this case, tcp on ethernet) for payload, and 100 bytes for overhead. The induct and outduct will listen on <code>port 4556</code>, the IANA assigned default DTN TCP convergence layer port. The induct itself is implemented by the <code>tcpcli</code> command and the outduct is implemented by the <code>tcpclo</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>## begin bpadmin 
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a># bprc configuration file for host3 in a 3node test.
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a># Initialization command (command 1).
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>1
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a># Add an EID scheme.
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>a scheme ipn &#39;ipnfw&#39; &#39;ipnadminep&#39;
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a># Add endpoints.
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>a endpoint ipn:3.0 q
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>a endpoint ipn:3.1 q
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>a endpoint ipn:3.2 q
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a># Add a protocol. 
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a># Add the protocol named tcp.
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>a protocol tcp 1400 100
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a># Add an induct. (listen)
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>a induct tcp 10.0.0.3:4556 tcpcli
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a># Add an outduct (send to yourself).
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>a outduct tcp 10.0.0.3:4556 tcpclo
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a># Add an outduct. (send to host2)
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>a outduct tcp external_ip_of_host_2:4556 tcpclo
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a># Start bundle protocol engine, also running all of the induct, outduct,
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a># and administration programs defined above.
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>s
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>## end bpadmin 
</code></pre></div></p>
<p>The <code>ipnadmin</code> configuration adds the egress plans (to host 3 itself and to host 2) using <code>tcp</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>## begin ipnadmin 
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a># ipnrc configuration file for host1 in the 3node tcp network.
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a># Add an egress plan (to yourself).
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>a plan 2 tcp/10.0.0.3:4556
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a># Add an egress plan (to the host 2).
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>a plan 2 tcp/external_IP_of_node_2:4556
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>## end ipnadmin
</code></pre></div></p>
<p>The <code>ionsecadmin</code> configuration enables bundle security
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>## begin ionsecadmin
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>1
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>## end ionsecadmin
</code></pre></div></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../dtn-gcp-iot-main/sense-python-script/" class="btn btn-neutral float-left" title="ION Start Script Example"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../host3-start-script/" class="btn btn-neutral float-right" title="ION Start Script Example">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../dtn-gcp-iot-main/sense-python-script/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../host3-start-script/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../..";</script>
    <script src="../../../../js/theme_extra.js"></script>
    <script src="../../../../js/theme.js"></script>
      <script src="../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
