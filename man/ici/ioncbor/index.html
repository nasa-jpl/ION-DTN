<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://nasa-jpl.github.io/ION-DTN/man/ici/ioncbor/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>NAME - ION-DTN Open Source Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "man/ici/ioncbor.md";
        var mkdocs_page_url = "/ION-DTN/man/ici/ioncbor/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> ION-DTN Open Source Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">ION Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Quick-Start-Guide/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Deployment-Guide/">ION Deployment Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Guide/">ION Design & Operation Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Watch-Characters/">Watch Characters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../AMS-Programmer-Guide/">AMS Programmer's Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Use-Cases/">Use Cases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../List-of-Papers/">Publications/Papers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/Contributing-Code-to-ION/">Contribute Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Basic-Configuration-File-Tutorial/">Basic Configuration Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ION-Config-File-Templates/">Configuration Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Configure-Multiple-Network-Interfaces/">Multi-network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Using-LTP-Config-Tool/">LTP Configuration Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Man Pages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ams/">Asychronous Messaging System (AMS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv6/">Bundle Protocol v6 (BPv6)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bpv7/">Bundle Protcool v7 (BPv7)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bss/">Bundle Streaming Service (BSS)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bssp/">Bundle Streaming Service (Test Utility) Protocol (BSSP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cfdp/">CCSDS File Delivery Protocol (CFDP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dgr/">Datagram Retransmission System (DGR)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Interplanetary Communications Infrastructure (ICI)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ltp/">Licklider Transmission Protocol (LTP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nm/">Network Management Agent for Asynchronous Management Protocol (AMP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../restart/ionrestart/">ION Node Restart Utility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tc/">Delay Tolerant Key Administration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-main/ION-One-Node-on-Cloud-Linux-VM/">Running 1 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-2nodes/ION-Two-Node-on-Cloud-Linux-VMs/">Running 2 ION Node on Cloud VM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-iot-main/ION-and-IOT-on-Linux-VMs-running-on-Cloud-Computing/">ION and IOT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-gcp-ltp-tcp-main/ION-LTP-TCP-on-Azure/">LTP and TCP on Azure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-multicasting-main/Multicasting-over-ION/">Multicast</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../community/dtn-video-intelligence-main/Video-Intelligence/">Video Intelligence</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">ION-DTN Open Source Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>cbor - ION library for encoding and decoding CBOR data representations</p>
<h1 id="synopsis">SYNOPSIS</h1>
<div class="highlight"><pre><span></span><code>#include &quot;cbor.h&quot;
</code></pre></div>
<h1 id="description">DESCRIPTION</h1>
<p>ION's "cbor" library implements a subset of the Concise Binary Object
Representation (CBOR) standard, RFC 7049; only those data types used in
ION code are implemented.  Unlike other CBOR implementations, ION CBOR
is specifically intended for compatibility with zero-copy objects, i.e.,
the data being decoded need not all be in a memory buffer.</p>
<p>For all functions, <em>*cursor</em> is a pointer to the location in the CBOR
coding buffer at which bytes are to be encoded or decoded.  This pointer
is automatically advanced as the encoding or decoding operation is
performed.</p>
<p>Most of the ION CBOR decoding functions entail the decoding of unsigned
integers.  The invoking code may require that an integer representation
have a specific size by indicating the integer size "class" that is
required.  Class -1 indicates that an integer of any size is acceptable;
the other classes (0, 1, 2, 4, 8) indicate the number of bytes of integer
data that MUST follow the integers initial byte.</p>
<ul>
<li>
<p>int cbor_encode_integer(uvast value, unsigned char **cursor)</p>
<p>Represent this value in an integer of the smallest possible integer class.
Cursor is automatically advanced.  Returns number of bytes written.</p>
</li>
<li>
<p>int cbor_encode_fixed_int(uvast value, int class, unsigned char **cursor)</p>
<p>Represent this value in an integer of the indicated class.  Cursor is
automatically advanced.  Returns number of bytes written, 0 on encoding error.</p>
</li>
<li>
<p>int cbor_encode_byte_string(unsigned char *value, uvast size, unsigned char **cursor)</p>
<p><em>size</em> is the number of bytes to write.  If value is NULL, only the size of
the byte string is written; otherwise the byte string itself is written as
well.  Cursor is advanced by the number of bytes written in either case.
Returns number of bytes written.</p>
</li>
<li>
<p>int cbor_encode_text_string(char *value, uvast size, unsigned char **cursor)</p>
<p><em>size</em> is the number of bytes to write.  If value is NULL, only the size of
the text string is written; otherwise the text string itself is written
as well.  Cursor is advanced by the number of bytes written in either case.
Returns number of bytes written.    </p>
</li>
<li>
<p>int cbor_encode_array_open(uvast size, unsigned char **cursor)</p>
<p>If <em>size</em> is ((uvast) -1), the array is of indefinite size; otherwise <em>size</em>
indicates the number of items in the array.  Cursor is automatically advanced.
Returns number of bytes written.</p>
</li>
<li>
<p>int cbor_encode_break(unsigned char **cursor)</p>
<p>Break code is written at the indicated location.  Cursor is automatically
advanced.  Returns number of bytes written (always 1).</p>
</li>
<li>
<p>int cbor_decode_initial_byte(unsigned char **cursor, unsigned int *bytesBuffered, int *majorType, int *additionalInfo)</p>
<p>This function just extracts major type and additional info from the byte
identified by <em>cursor</em>.  Cursor is automatically advanced.  Returns number of
bytes decoded (always 1) or 0 on decoding error (e.g., no byte to decode).</p>
</li>
<li>
<p>int cbor_decode_integer(    uvast *value, int class, unsigned char **cursor, unsigned int *bytesBuffered)</p>
<p>If <em>class</em> is CborAny, any class of data item is accepted; otherwise only an
integer data item of the indicated class is accepted.  Cursor is automatically
advanced.  Returns number of bytes read, 0 on decoding error (e.g., integer
is of the wrong class).</p>
</li>
<li>
<p>int cbor_decode_byte_string(unsigned char *value, uvast *size, unsigned char **cursor, unsigned int *bytesBuffered)</p>
<p>Initial value of <em>size</em> is the maximum allowable size of the decoded byte
string; the actual number of bytes in the byte string (which, <strong>NOTE</strong>, is
less than the number of bytes read) is returned in <em>size</em>.  If <em>value</em> is
non-NULL, the decoded byte string is copied into <em>value</em> and cursor is
automatically advanced to the end of the byte string; otherwise, cursor is
advanced only to the beginning of the byte string.  Returns number of bytes
read, 0 on decoding error (e.g., byte string exceeds maximum size).</p>
</li>
<li>
<p>int cbor_decode_text_string(char *value, uvast *size, unsigned char **cursor, unsigned int *bytesBuffered)</p>
<p>Initial value of <em>size</em> is the maximum allowable size of the decoded text
string; the actual number of bytes in the text string (which, <strong>NOTE</strong>, is
less than the number of bytes read) is returned in size.  If <em>value</em> is
non-NULL, the decoded text string is copied into <em>value</em> and cursor is
automatically advanced to the end of the text string; otherwise, cursor
is advanced only to the beginning of the text string.  Returns number of
bytes read, 0 on decoding error (e.g., text string exceeds maximum size).</p>
</li>
<li>
<p>int cbor_decode_array_open(uvast *size, unsigned char **cursor, unsigned int *bytesBuffered)</p>
<p>If <em>size</em> is zero, any array is accepted and the actual size of the decoded
array is returned in <em>size</em>; ((uvast) -1) is returned in <em>size</em> if the array
is of indefinite size.  If <em>size</em> is ((uvast) -1), <strong>only</strong> an array of
indefinite length is accepted.  Otherwise, <em>size</em> indicates the required
number of items in the array.  Cursor is automatically advanced.  Returns
number of bytes read, 0 on decoding error (such as wrong number of items).</p>
</li>
<li>
<p>int cbor_decode_break(unsigned char **cursor, unsigned int *bytesBuffered)</p>
<p>Break code is read from the indicated location.  Cursor is automatically
advanced.  Returns number of bytes read, 0 on decoding error (e.g., no
break character at this location).</p>
</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright (c) 2002-2011, California Institute of Technology. All rights reserved.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
